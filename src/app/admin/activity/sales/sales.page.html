<ng-container *ngIf="(this.dataProvider.currentBusiness|async)?.businessId=='all'">
  <p>Showing analytics for all outlets.</p>
  <div class="summaryCard fadeUp">
    <div class="paddedBody">
      <div class="dates" (click)="picker.open()">
        <span>
          {{ dateRangeFormGroup.get("startDate")?.value | date: "dd/MM/yyyy" }}
          - 
          {{ dateRangeFormGroup.get("endDate")?.value | date: "dd/MM/yyyy" }}
        </span>
        <mat-date-range-picker hidden touchUi #picker></mat-date-range-picker>
        <mat-date-range-input
        style="width: 0px;height: 0px;opacity: 0;"
        tabindex="-1"
        hidden
        [formGroup]="dateRangeFormGroup"
        [rangePicker]="picker"
        >
          <input hidden matStartDate formControlName="startDate" placeholder="Start date" />
          <input hidden matEndDate formControlName="endDate" placeholder="End date" />
        </mat-date-range-input>
        <ion-button fill="clear">
          <ion-icon slot="icon-only" name="calendar"></ion-icon>
        </ion-button>
      </div>
    </div>
  </div>
  <div class="summaryCard fadeUp" style="animation-delay:200ms">
    <div class="heading">
      <p>Summary</p>
      <select (change)="slideNext(selector.value,swiperAnalytics)" #selector>
        <option [value]="0">All</option>
        <option [value]="1">Dine In</option>
        <option [value]="2">Takeaway</option>
        <option [value]="3">Online</option>
      </select>
    </div>
    <div class="body">
      <swiper
        #swiperAnalytics
        [slidesPerView]="1"
        [pagination]="true"
        [spaceBetween]="50"
        (slideChange)="slideChanged(selector,swiperContainer)"
        #swiperContainer
      >
        <ng-template swiperSlide>
          <div class="mode">
            <div class="card total">
              <h3>Total Sales:</h3>
              <strong
                >{{ this.allOutletAnalyticsData?.salesChannels?.all?.totalSales | currency
                : "INR" }}</strong
              >
              <p>
                Net Sales: {{ this.allOutletAnalyticsData?.salesChannels?.all?.netSales |
                currency : "INR" }}
              </p>
              <p>
                Settled Bills -
                <span
                  >{{this.allOutletAnalyticsData?.salesChannels?.all?.totalSettledBills}}</span
                >
              </p>
              <p>
                Running Bills -
                <span
                  >{{this.allOutletAnalyticsData?.salesChannels?.all?.totalUnsettledBills}}</span
                >
              </p>
            </div>
            <div class="card discount">
              <p>Discounts</p>
              <strong
                >{{ this.allOutletAnalyticsData?.salesChannels?.all?.totalDiscount |
                currency : "INR" }}</strong
              >
              <p>
                Bills
                <span
                  >{{this.allOutletAnalyticsData?.salesChannels?.all?.totalDiscountedBills}}</span
                >
              </p>
            </div>
            <div class="card nc">
              <p>NC</p>
              <strong
                >{{ this.allOutletAnalyticsData?.salesChannels?.all?.totalNC| currency :
                "INR" }}</strong
              >
              <p>
                Bills
                <span
                  >{{this.allOutletAnalyticsData?.salesChannels?.all?.totalNcBills}}</span
                >
              </p>
            </div>
            <div class="card taxes">
              <h3>Taxes</h3>
              <strong
                >{{ this.allOutletAnalyticsData?.salesChannels?.all?.totalTaxes | currency
                : "INR" }}</strong
              >
            </div>
            <div class="card cancelled">
              <p>Cancelled</p>
              <strong>
                {{ this.allOutletAnalyticsData?.salesChannels?.all?.totalCancelled | currency : "INR" }}
                </strong>
              <p>
                Bills
                <span
                  >{{this.allOutletAnalyticsData?.salesChannels?.all?.totalCancelledBills}}</span
                >
              </p>
            </div>
          </div>
        </ng-template>
        <ng-template swiperSlide>
          <div class="mode">
            <div class="card total">
              <h3>Total Sales:</h3>
              <strong
                >{{ this.allOutletAnalyticsData?.salesChannels?.dineIn?.totalSales |
                currency : "INR" }}</strong
              >
              <p>
                Net Sales: {{ this.allOutletAnalyticsData?.salesChannels?.dineIn?.netSales
                | currency : "INR" }}
              </p>
              <p>
                Settled Bills -
                <span
                  >{{this.allOutletAnalyticsData?.salesChannels?.dineIn?.totalSettledBills}}</span
                >
              </p>
              <p>
                Running Bills -
                <span
                  >{{this.allOutletAnalyticsData?.salesChannels?.dineIn?.totalUnsettledBills}}</span
                >
              </p>
            </div>
            <div class="card discount">
              <p>Discounts</p>
              <strong
                >{{ this.allOutletAnalyticsData?.salesChannels?.dineIn?.totalDiscount |
                currency : "INR" }}</strong
              >
              <p>
                Bills
                <span
                  >{{this.allOutletAnalyticsData?.salesChannels?.dineIn?.totalDiscountedBills}}</span
                >
              </p>
            </div>
            <div class="card nc">
              <p>NC</p>
              <strong
                >{{ this.allOutletAnalyticsData?.salesChannels?.dineIn?.totalNC| currency :
                "INR" }}</strong
              >
              <p>
                Bills
                <span
                  >{{this.allOutletAnalyticsData?.salesChannels?.dineIn?.totalNcBills}}</span
                >
              </p>
            </div>
            <div class="card taxes">
              <h3>Taxes</h3>
              <strong
                >{{ this.allOutletAnalyticsData?.salesChannels?.dineIn?.totalTaxes |
                currency : "INR" }}</strong
              >
            </div>
            <div class="card cancelled">
              <p>Cancelled</p>
              <strong>
                {{ this.allOutletAnalyticsData?.salesChannels?.all?.totalCancelled | currency : "INR" }}
                </strong>
              <p>
                Bills
                <span
                  >{{this.allOutletAnalyticsData?.salesChannels?.all?.totalCancelledBills}}</span
                >
              </p>
            </div>
          </div>
        </ng-template>
        <ng-template swiperSlide>
          <div class="mode">
            <div class="card total">
              <h3>Total Sales:</h3>
              <strong
                >{{ this.allOutletAnalyticsData?.salesChannels?.takeaway?.totalSales |
                currency : "INR" }}</strong
              >
              <p>
                Net Sales: {{
                this.allOutletAnalyticsData?.salesChannels?.takeaway?.netSales | currency :
                "INR" }}
              </p>
              <p>
                Settled Bills -
                <span
                  >{{this.allOutletAnalyticsData?.salesChannels?.takeaway?.totalSettledBills}}</span
                >
              </p>
              <p>
                Running Bills -
                <span
                  >{{this.allOutletAnalyticsData?.salesChannels?.takeaway?.totalUnsettledBills}}</span
                >
              </p>
            </div>
            <div class="card discount">
              <p>Discounts</p>
              <strong
                >{{ this.allOutletAnalyticsData?.salesChannels?.takeaway?.totalDiscount |
                currency : "INR" }}</strong
              >
              <p>
                Bills
                <span
                  >{{this.allOutletAnalyticsData?.salesChannels?.takeaway?.totalDiscountedBills}}</span
                >
              </p>
            </div>
            <div class="card nc">
              <p>NC</p>
              <strong
                >{{ this.allOutletAnalyticsData?.salesChannels?.takeaway?.totalNC| currency
                : "INR" }}</strong
              >
              <p>
                Bills
                <span
                  >{{this.allOutletAnalyticsData?.salesChannels?.takeaway?.totalNcBills}}</span
                >
              </p>
            </div>
            <div class="card taxes">
              <h3>Taxes</h3>
              <strong
                >{{ this.allOutletAnalyticsData?.salesChannels?.takeaway?.totalTaxes |
                currency : "INR" }}</strong
              >
            </div>
            <div class="card cancelled">
              <p>Cancelled</p>
              <strong>
                {{ this.allOutletAnalyticsData?.salesChannels?.all?.totalCancelled | currency : "INR" }}
                </strong>
              <p>
                Bills
                <span
                  >{{this.allOutletAnalyticsData?.salesChannels?.all?.totalCancelledBills}}</span
                >
              </p>
            </div>
          </div>
        </ng-template>
        <ng-template swiperSlide>
          <div class="mode">
            <div class="card total">
              <h3>Total Sales:</h3>
              <strong
                >{{ this.allOutletAnalyticsData?.salesChannels?.online?.totalSales |
                currency : "INR" }}</strong
              >
              <p>
                Net Sales: {{ this.allOutletAnalyticsData?.salesChannels?.online?.netSales
                | currency : "INR" }}
              </p>
              <p>
                Settled Bills -
                <span
                  >{{this.allOutletAnalyticsData?.salesChannels?.online?.totalSettledBills}}</span
                >
              </p>
              <p>
                Running Bills -
                <span
                  >{{this.allOutletAnalyticsData?.salesChannels?.online?.totalUnsettledBills}}</span
                >
              </p>
            </div>
            <div class="card discount">
              <p>Discounts</p>
              <strong
                >{{ this.allOutletAnalyticsData?.salesChannels?.online?.totalDiscount |
                currency : "INR" }}</strong
              >
              <p>
                Bills
                <span
                  >{{this.allOutletAnalyticsData?.salesChannels?.online?.totalDiscountedBills}}</span
                >
              </p>
            </div>
            <div class="card nc">
              <p>NC</p>
              <strong
                >{{ this.allOutletAnalyticsData?.salesChannels?.online?.totalNC| currency :
                "INR" }}</strong
              >
              <p>
                Bills
                <span
                  >{{this.allOutletAnalyticsData?.salesChannels?.online?.totalNcBills}}</span
                >
              </p>
            </div>
            <div class="card taxes">
              <h3>Taxes</h3>
              <strong
                >{{ this.allOutletAnalyticsData?.salesChannels?.online?.totalTaxes |
                currency : "INR" }}</strong
              >
            </div>
            <div class="card cancelled">
              <p>Cancelled</p>
              <strong>
                {{ this.allOutletAnalyticsData?.salesChannels?.all?.totalCancelled | currency : "INR" }}
                </strong>
              <p>
                Bills
                <span
                  >{{this.allOutletAnalyticsData?.salesChannels?.all?.totalCancelledBills}}</span
                >
              </p>
            </div>
          </div>
        </ng-template>
      </swiper>
    </div>
  </div>
  <div class="summaryCard fadeUp" style="animation-delay:300ms">
    <div class="heading">
      <p>Quick Links</p>
    </div>
    <div class="quickLinks">
      <div class="link gm" (click)="billWiseSalesSection.scrollIntoView()">Bill Wise Sales</div>
      <div class="link gm" (click)="userWiseActionSection.scrollIntoView()">User wise actions</div>
    </div>
  </div>
  <div class="summaryCard fadeUp" style="animation-delay:400ms">
    <div class="heading">
      <p><span class="actual"></span> Actual Sales Vs <span class="average"></span> Avg Sales</p>
    </div>
    <div class="salesVsActualGraph gm">
      <canvas id="salesData"></canvas>
    </div>
  </div>
  <div class="summaryCard fadeUp" style="animation-delay:500ms">
    <div class="heading">
      <p>Payment Received</p>
      <select
        (change)="slideNext(paymentSelector.value,swiperPaymentModes)"
        #paymentSelector
      >
        <option [value]="0">All</option>
        <option [value]="1">Dine In</option>
        <option [value]="2">Takeaway</option>
        <option [value]="3">Online</option>
      </select>
    </div>
    <div class="body">
      <swiper
        #swiperPaymentModes
        [slidesPerView]="1"
        [pagination]="true"
        [config]="{autoHeight: true}"
        [spaceBetween]="50"
        (slideChange)="slideChanged(paymentSelector,swiperPaymentModes)"
      >
        <ng-template swiperSlide>
          <div class="paymentReceived">
            <p>All Channel</p>
            <div
              class="modes"
              *ngIf="this.allOutletAnalyticsData?.salesChannels?.all?.paymentReceived"
            >
              <div
                class="channel"
                *ngFor="let channel of this.allOutletAnalyticsData?.salesChannels?.all?.paymentReceived | keyvalue"
              >
                <div class="title">
                  <p>{{ channel.key }}</p>
                  <p>{{ channel.value }}</p>
                </div>
                <div class="progressBar">
                  <div
                    class="progress"
                    [ngStyle]="{
                  width:
                    (channel.value / (this.allOutletAnalyticsData?.salesChannels?.all?.totalSales || 0)) * 100 + '%'
                  }"
                  ></div>
                </div>
              </div>
            </div>
            <div class="noData" *ngIf="!(this.allOutletAnalyticsData?.salesChannels?.all?.paymentReceived | keyvalue)?.length">
              <i class="ri-inbox-2-fill"></i>
              <p>No Data Available</p>
            </div>
          </div>
        </ng-template>
        <ng-template swiperSlide>
          <div class="paymentReceived">
            <p>Dine-In Channel</p>
            <div
              class="modes"
              *ngIf="this.allOutletAnalyticsData?.salesChannels?.dineIn?.paymentReceived"
            >
              <div
                class="channel"
                *ngFor="let channel of this.allOutletAnalyticsData?.salesChannels?.dineIn?.paymentReceived | keyvalue"
              >
                <div class="title">
                  <p>{{ channel.key }}</p>
                  <p>{{ channel.value }}</p>
                </div>
                <div class="progressBar">
                  <div
                    class="progress"
                    [ngStyle]="{
                  width:
                    (channel.value / (this.allOutletAnalyticsData?.salesChannels?.dineIn?.totalSales || 0)) * 100 + '%'
                  }"
                  ></div>
                </div>
              </div>
            </div>
            <div class="noData" *ngIf="!(this.allOutletAnalyticsData?.salesChannels?.dineIn?.paymentReceived | keyvalue)?.length">
              <i class="ri-inbox-2-fill"></i>
              <p>No Data Available</p>
            </div>
          </div>
        </ng-template>
        <ng-template swiperSlide>
          <div class="paymentReceived">
            <p>Takeaway Channel</p>
            <div
              class="modes"
              *ngIf="this.allOutletAnalyticsData?.salesChannels?.takeaway?.paymentReceived"
            >
              <div
                class="channel"
                *ngFor="let channel of this.allOutletAnalyticsData?.salesChannels?.takeaway?.paymentReceived | keyvalue"
              >
                <div class="title">
                  <p>{{ channel.key }}</p>
                  <p>{{ channel.value }}</p>
                </div>
                <div class="progressBar">
                  <div
                    class="progress"
                    [ngStyle]="{
                  width:
                    (channel.value / (this.allOutletAnalyticsData?.salesChannels?.takeaway?.totalSales || 0)) * 100 + '%'
                  }"
                  ></div>
                </div>
              </div>
            </div>
            <div class="noData" *ngIf="!(this.allOutletAnalyticsData?.salesChannels?.takeaway?.paymentReceived | keyvalue)?.length">
              <i class="ri-inbox-2-fill"></i>
              <p>No Data Available</p>
            </div>
          </div>
        </ng-template>
        <ng-template swiperSlide>
          <div class="paymentReceived">
            <p>Online Channel</p>
            <div
              class="modes"
              *ngIf="this.allOutletAnalyticsData?.salesChannels?.online?.paymentReceived"
            >
              <div
                class="channel"
                *ngFor="let channel of this.allOutletAnalyticsData?.salesChannels?.online?.paymentReceived | keyvalue"
              >
                <div class="title">
                  <p>{{ channel.key }}</p>
                  <p>{{ channel.value }}</p>
                </div>
                <div class="progressBar">
                  <div
                    class="progress"
                    [ngStyle]="{
                width:
                  (channel.value / (this.allOutletAnalyticsData?.salesChannels?.online?.totalSales || 0)) * 100 + '%'
                }"
                  ></div>
                </div>
              </div>
            </div>
            <div class="noData" *ngIf="!(this.allOutletAnalyticsData?.salesChannels?.online?.paymentReceived | keyvalue)?.length">
              <i class="ri-inbox-2-fill"></i>
              <p>No Data Available</p>
            </div>
          </div>
        </ng-template>
      </swiper>
    </div>
  </div>
  <div class="summaryCard fadeUp" #billWiseSalesSection>
    <div class="heading">
      <p>Bill Wise Sales</p>
      <select #typeSelector (change)="updateSlides(billWiseSwiperContainer)">
        <option value="range">By Range</option>
        <option value="table">By Table</option>
        <option value="time">By Time</option>
      </select>
      <select
        #channelSelector
        (change)="slideNext(channelSelector.value,billWiseSwiperContainer)"
      >
        <option [value]="0">All</option>
        <option [value]="1">Dine In</option>
        <option [value]="2">Takeaway</option>
        <option [value]="3">Online</option>
      </select>
    </div>
    <div class="body">
      <swiper
        [slidesPerView]="1"
        [spaceBetween]="50"
        [pagination]="true"
        [config]="{autoHeight: true}"
        #billWiseSwiperContainer
        (slideChange)="slideChanged(channelSelector,billWiseSwiperContainer)"
      >
        <ng-template swiperSlide>
          <div class="modes" *ngIf="typeSelector.value == 'range'">
            <div class="channel">
              <div class="title">
                <p>Low Range</p>
                <p>
                  {{
                  (analyticsData?.salesChannels?.all?.billWiseSales?.rangeWise?.lowRange?.bills
                  || []).length }}
                </p>
              </div>
              <div class="progressBar">
                <div
                  class="progress"
                  [ngStyle]="{
                    width: ((((analyticsData?.salesChannels?.all?.billWiseSales?.rangeWise?.lowRange?.bills || []).length) / (analyticsData?.salesChannels?.all?.maxBillsInRange || 100))*100)+'%'
                  }"
                ></div>
              </div>
            </div>
            <div class="channel">
              <div class="title">
                <p>Medium Range</p>
                <p>
                  {{
                  (analyticsData?.salesChannels?.all?.billWiseSales?.rangeWise?.mediumRange?.bills
                  || []).length }}
                </p>
              </div>
              <div class="progressBar">
                <div
                  class="progress"
                  [ngStyle]="{
                    width: ((((analyticsData?.salesChannels?.all?.billWiseSales?.rangeWise?.mediumRange?.bills || []).length) / (analyticsData?.salesChannels?.all?.maxBillsInRange || 100))*100) + '%'
                  }"
                ></div>
              </div>
            </div>
            <div class="channel">
              <div class="title">
                <p>High Range</p>
                <p>
                  {{
                  (analyticsData?.salesChannels?.all?.billWiseSales?.rangeWise?.highRange?.bills
                  || []).length }}
                </p>
              </div>
              <div class="progressBar">
                <div
                  class="progress"
                  [ngStyle]="{
                    width: ((((analyticsData?.salesChannels?.all?.billWiseSales?.rangeWise?.highRange?.bills || []).length) / (analyticsData?.salesChannels?.all?.maxBillsInRange || 100))*100)+'%'
                  }"
                ></div>
              </div>
            </div>
          </div>
          <div class="modes" *ngIf="typeSelector.value == 'table'">
            <input type="checkbox" name="" id="" (change)="updateAllSlides()" #billWiseTableWiseSeeMore hidden>
            <ng-container
              *ngFor="let table of analyticsData?.salesChannels?.all?.billWiseSales?.tableWise; let i = index"
            >
              <div class="channel" *ngIf="i < 10 || billWiseTableWiseSeeMore.checked">
                <div class="title">
                  <p>{{table.table}}</p>
                  <p>{{ table.totalBills }}</p>
                </div>
                <div class="progressBar">
                  <div
                    class="progress"
                    [ngStyle]="{
                    width: (((table.totalBills || 0) / (analyticsData?.salesChannels?.all?.billWiseSales?.maxTables || 0)) * 100)+'%'
                    }"
                  ></div>
                </div>
              </div>
              <p class="seeMore" *ngIf="i == 10" (click)="billWiseTableWiseSeeMore.click()">
                {{billWiseTableWiseSeeMore.checked ? 'See Less' :  'See More'}}
              </p>
            </ng-container>
          </div>
          <div class="modes" *ngIf="typeSelector.value == 'time'">
            <input type="checkbox" name="" id="" (change)="updateAllSlides()" #billWiseTimeWiseSeeMore hidden>
            <ng-container
              *ngFor="let time of analyticsData?.salesChannels?.all?.billWiseSales?.time; let i = index"
            >
              <div class="channel" *ngIf="i<10 || billWiseTimeWiseSeeMore.checked">
                <div class="title">
                  <p>
                    {{time.time}}:00 {{time.timeNumber > 12 ? 'AM' : 'PM'}} -
                    {{time.time + 1}}:00 {{(time.timeNumber +1) > 12 ? 'AM' :
                    'PM'}}
                  </p>
                  <p>{{ time.totalBills }}</p>
                </div>
                <div class="progressBar">
                  <div
                    class="progress"
                    [ngStyle]="{
                      width: (((time.totalBills || 0) / (((analyticsData?.salesChannels?.all?.totalSettledBills || 0) + (analyticsData?.salesChannels?.all?.totalUnsettledBills || 0)) + (analyticsData?.salesChannels?.all?.totalUnsettledBills || 0)))*100)+'%'
                    }"
                  ></div>
                </div>
              </div>
              <p class="seeMore" *ngIf="i == 10" (click)="billWiseTimeWiseSeeMore.click()">
                {{billWiseTimeWiseSeeMore.checked ? 'See Less' :  'See More'}}
              </p>
            </ng-container>
          </div>
        </ng-template>
        <ng-template swiperSlide>
          <div class="modes" *ngIf="typeSelector.value == 'range'">
            <div class="channel">
              <div class="title">
                <p>Low Range</p>
                <p>
                  {{
                  (analyticsData?.salesChannels?.dineIn?.billWiseSales?.rangeWise?.lowRange?.bills
                  || []).length }}
                </p>
              </div>
              <div class="progressBar">
                <div
                  class="progress"
                  [ngStyle]="{
                    width: ((((analyticsData?.salesChannels?.dineIn?.billWiseSales?.rangeWise?.lowRange?.bills || []).length) / (analyticsData?.salesChannels?.dineIn?.maxBillsInRange || 100))*100)+'%'
                  }"
                ></div>
              </div>
            </div>
            <div class="channel">
              <div class="title">
                <p>Medium Range</p>
                <p>
                  {{
                  (analyticsData?.salesChannels?.dineIn?.billWiseSales?.rangeWise?.mediumRange?.bills
                  || []).length }}
                </p>
              </div>
              <div class="progressBar">
                <div
                  class="progress"
                  [ngStyle]="{
                    width: ((((analyticsData?.salesChannels?.dineIn?.billWiseSales?.rangeWise?.mediumRange?.bills || []).length) / (analyticsData?.salesChannels?.dineIn?.maxBillsInRange || 100))*100) + '%'
                  }"
                ></div>
              </div>
            </div>
            <div class="channel">
              <div class="title">
                <p>High Range</p>
                <p>
                  {{
                  (analyticsData?.salesChannels?.dineIn?.billWiseSales?.rangeWise?.highRange?.bills
                  || []).length }}
                </p>
              </div>
              <div class="progressBar">
                <div
                  class="progress"
                  [ngStyle]="{
                    width: ((((analyticsData?.salesChannels?.dineIn?.billWiseSales?.rangeWise?.highRange?.bills || []).length) / (analyticsData?.salesChannels?.dineIn?.maxBillsInRange || 100))*100)+'%'
                  }"
                ></div>
              </div>
            </div>
          </div>
          <div class="modes" *ngIf="typeSelector.value == 'table'">
            <input type="checkbox" name="" id="" (change)="updateAllSlides()" #billWiseTableWiseSalesSeeMore hidden>
            <ng-container
              *ngFor="let table of analyticsData?.salesChannels?.dineIn?.billWiseSales?.tableWise; let i = index"
            >
              <div class="channel" *ngIf="i<10 || billWiseTableWiseSalesSeeMore.checked">
                <div class="title">
                  <p>{{table.table}}</p>
                  <p>{{ table.totalBills }}</p>
                </div>
                <div class="progressBar">
                  <div
                    class="progress"
                    [ngStyle]="{
                    width: (((table.totalBills || 0) / (analyticsData?.salesChannels?.all?.billWiseSales?.maxTables || 0))*100) + '%'
                  }"
                  ></div>
                </div>
              </div>
              <p class="seeMore" *ngIf="i == 10" (click)="billWiseTableWiseSalesSeeMore.click()">
                {{billWiseTableWiseSalesSeeMore.checked ? 'See Less' :  'See More'}}
              </p>
            </ng-container>
          </div>
          <div class="modes" *ngIf="typeSelector.value == 'time'">
            <input type="checkbox" name="" id="" (change)="updateAllSlides()" #billWiseDineinTableWiseTimeSeeMore hidden>
            <ng-container
              *ngFor="let time of analyticsData?.salesChannels?.dineIn?.billWiseSales?.time; let i = index"
            >
              <div class="channel" *ngIf="i < 10 || billWiseDineinTableWiseTimeSeeMore.checked">
                <div class="title">
                  <p>
                    {{time.time}}:00 {{time.timeNumber > 12 ? 'AM' : 'PM'}} -
                    {{time.time + 1}}:00 {{(time.timeNumber +1) > 12 ? 'AM' :
                    'PM'}}
                  </p>
                  <p>{{ time.totalBills }}</p>
                </div>
                <div class="progressBar">
                  <div
                    class="progress"
                    [ngStyle]="{
                    width: ((time.totalBills || 0) / ((analyticsData?.salesChannels?.dineIn?.totalSettledBills || 0) + (analyticsData?.salesChannels?.dineIn?.totalUnsettledBills || 0))*100)+'%'
                    }"
                  ></div>
                </div>
              </div>
              <p class="seeMore" *ngIf="i == 10" (click)="billWiseDineinTableWiseTimeSeeMore.click()">
                {{billWiseDineinTableWiseTimeSeeMore.checked ? 'See Less' :  'See More'}}
              </p>
            </ng-container>
          </div>
        </ng-template>
        <ng-template swiperSlide>
          <div class="modes" *ngIf="typeSelector.value == 'range'">
            <div class="channel">
              <div class="title">
                <p>Low Range</p>
                <p>
                  {{
                  (analyticsData?.salesChannels?.takeaway?.billWiseSales?.rangeWise?.lowRange?.bills
                  || []).length }}
                </p>
              </div>
              <div class="progressBar">
                <div
                  class="progress"
                  [ngStyle]="{
                    width: ((((analyticsData?.salesChannels?.takeaway?.billWiseSales?.rangeWise?.lowRange?.bills || []).length) / (analyticsData?.salesChannels?.takeaway?.maxBillsInRange || 100))*100)+'%'
                  }"
                ></div>
              </div>
            </div>
            <div class="channel">
              <div class="title">
                <p>Medium Range</p>
                <p>
                  {{
                  (analyticsData?.salesChannels?.takeaway?.billWiseSales?.rangeWise?.mediumRange?.bills
                  || []).length }}
                </p>
              </div>
              <div class="progressBar">
                <div
                  class="progress"
                  [ngStyle]="{
                    width: ((((analyticsData?.salesChannels?.takeaway?.billWiseSales?.rangeWise?.mediumRange?.bills || []).length) / (analyticsData?.salesChannels?.takeaway?.maxBillsInRange || 100))*100) + '%'
                  }"
                ></div>
              </div>
            </div>
            <div class="channel">
              <div class="title">
                <p>High Range</p>
                <p>
                  {{
                  (analyticsData?.salesChannels?.takeaway?.billWiseSales?.rangeWise?.highRange?.bills
                  || []).length }}
                </p>
              </div>
              <div class="progressBar">
                <div
                  class="progress"
                  [ngStyle]="{
                    width: ((((analyticsData?.salesChannels?.takeaway?.billWiseSales?.rangeWise?.highRange?.bills || []).length) / (analyticsData?.salesChannels?.takeaway?.maxBillsInRange || 100))*100)+'%'
                  }"
                ></div>
              </div>
            </div>
          </div>
          <div class="modes" *ngIf="typeSelector.value == 'table'">
            <input type="checkbox" name="" id="" (change)="updateAllSlides()" #billWiseTakeawayTableWiseTimeSeeMore hidden>
            <ng-container
              *ngFor="let table of analyticsData?.salesChannels?.takeaway?.billWiseSales?.tableWise; let i = index"
            >
              <div class="channel" *ngIf="i <10 || billWiseTakeawayTableWiseTimeSeeMore.checked">
                <div class="title">
                  <p>{{table.table}}</p>
                  <p>{{ table.totalBills }}</p>
                </div>
                <div class="progressBar">
                  <div
                    class="progress"
                    [ngStyle]="{
                      width: ((table.totalBills || 0) / (analyticsData?.salesChannels?.takeaway?.billWiseSales?.maxTables || 0)) + '%'
                    }"
                  ></div>
                </div>
              </div>
              <p class="seeMore" *ngIf="i == 10" (click)="billWiseTakeawayTableWiseTimeSeeMore.click()">
                {{billWiseTakeawayTableWiseTimeSeeMore.checked ? 'See Less' :  'See More'}}
              </p>
            </ng-container>
          </div>
          <div class="modes" *ngIf="typeSelector.value == 'time'">
            <ng-container
              *ngFor="let time of analyticsData?.salesChannels?.takeaway?.billWiseSales?.time; let i = index"
            >
              <div class="channel" *ngIf="i < 10">
                <div class="title">
                  <p>
                    {{time.time}}:00 {{time.timeNumber > 12 ? 'AM' : 'PM'}} -
                    {{time.time + 1}}:00 {{(time.timeNumber +1) > 12 ? 'AM' :
                    'PM'}}
                  </p>
                  <p>{{ time.totalBills }}</p>
                </div>
                <div class="progressBar">
                  <div
                    class="progress"
                    [ngStyle]="{
                      width: ((time.totalBills || 0) / ((analyticsData?.salesChannels?.takeaway?.totalSettledBills || 0) + (analyticsData?.salesChannels?.takeaway?.totalUnsettledBills || 0))*100)+'%'
                    }"
                  ></div>
                </div>
              </div>
              <p *ngIf="i == 10"></p>
            </ng-container>
          </div>
        </ng-template>
        <ng-template swiperSlide>
          <div class="modes" *ngIf="typeSelector.value == 'range'">
            <div class="channel">
              <div class="title">
                <p>Low Range</p>
                <p>
                  {{
                  (analyticsData?.salesChannels?.online?.billWiseSales?.rangeWise?.lowRange?.bills
                  || []).length }}
                </p>
              </div>
              <div class="progressBar">
                <div
                  class="progress"
                  [ngStyle]="{
                    width: ((((analyticsData?.salesChannels?.online?.billWiseSales?.rangeWise?.lowRange?.bills || []).length) / (analyticsData?.salesChannels?.online?.maxBillsInRange || 100))*100)+'%'
                  }"
                ></div>
              </div>
            </div>
            <div class="channel">
              <div class="title">
                <p>Medium Range</p>
                <p>
                  {{
                  (analyticsData?.salesChannels?.online?.billWiseSales?.rangeWise?.mediumRange?.bills
                  || []).length }}
                </p>
              </div>
              <div class="progressBar">
                <div
                  class="progress"
                  [ngStyle]="{
                    width: ((((analyticsData?.salesChannels?.online?.billWiseSales?.rangeWise?.mediumRange?.bills || []).length) / (analyticsData?.salesChannels?.online?.maxBillsInRange || 100))*100) + '%'
                  }"
                ></div>
              </div>
            </div>
            <div class="channel">
              <div class="title">
                <p>High Range</p>
                <p>
                  {{
                  (analyticsData?.salesChannels?.online?.billWiseSales?.rangeWise?.highRange?.bills
                  || []).length }}
                </p>
              </div>
              <div class="progressBar">
                <div
                  class="progress"
                  [ngStyle]="{
                    width: ((((analyticsData?.salesChannels?.online?.billWiseSales?.rangeWise?.highRange?.bills || []).length) / (analyticsData?.salesChannels?.online?.maxBillsInRange || 100))*100)+'%'
                  }"
                ></div>
              </div>
            </div>
          </div>
          <div class="modes" *ngIf="typeSelector.value == 'table'">
            <input type="checkbox" name="" id="" (change)="updateAllSlides()" #billWiseOnlineTableWiseTimeSeeMore hidden>
            <ng-container
              *ngFor="let table of analyticsData?.salesChannels?.online?.billWiseSales?.tableWise; let i = index"
            >
              <div class="channel" *ngIf="i < 10 || billWiseOnlineTableWiseTimeSeeMore.checked">
                <div class="title">
                  <p>{{table.table}}</p>
                  <p>{{ table.totalBills }}</p>
                </div>
                <div class="progressBar">
                  <div
                    class="progress"
                    [ngStyle]="{
                  width: ((table.totalBills || 0) / (analyticsData?.salesChannels?.online?.billWiseSales?.maxTables || 0)) + '%'
                  }"
                  ></div>
                </div>
              </div>
              <p class="seeMore" *ngIf="i == 10" (click)="billWiseOnlineTableWiseTimeSeeMore.click()">
                {{billWiseOnlineTableWiseTimeSeeMore.checked ? 'See Less' :  'See More'}}
              </p>
            </ng-container>
          </div>
          <div class="modes" *ngIf="typeSelector.value == 'time'">
            <input type="checkbox" name="" id="" (change)="updateAllSlides()" #billWiseSalesOnlineSeeMore hidden>
            <ng-container
              *ngFor="let time of analyticsData?.salesChannels?.online?.billWiseSales?.time; let i = index"
            >
              <div class="channel" *ngIf="i<10 || billWiseSalesOnlineSeeMore.checked">
                <div class="title">
                  <p>
                    {{time.time}}:00 {{time.timeNumber > 12 ? 'AM' : 'PM'}} -
                    {{time.time + 1}}:00 {{(time.timeNumber +1) > 12 ? 'AM' :
                    'PM'}}
                  </p>
                  <p>{{ time.totalBills }}</p>
                </div>
                <div class="progressBar">
                  <div
                    class="progress"
                    [ngStyle]="{
                  width: ((time.totalBills || 0) / ((analyticsData?.salesChannels?.online?.totalSettledBills || 0) + (analyticsData?.salesChannels?.online?.totalUnsettledBills || 0))*100)+'%'
                  }"
                  ></div>
                </div>
              </div>
              <p class="seeMore" *ngIf="i == 10" (click)="billWiseSalesOnlineSeeMore.click()">
                {{billWiseSalesOnlineSeeMore.checked ? 'See Less' :  'See More'}}
              </p>
            </ng-container>
          </div>
        </ng-template>
      </swiper>
    </div>
  </div>
  <div class="summaryCard fadeUp">
    <div class="heading">
      <p>Suspicious Activity</p>
      <select
        (change)="slideNext(suspiciousSelector.value,swiperSuspiciousActivity)"
        #suspiciousSelector
        value="0"
      >
        <option [value]="0">All</option>
        <option [value]="1">Dine In</option>
        <option [value]="2">Takeaway</option>
        <option [value]="3">Online</option>
      </select>
    </div>
    <div class="body">
      <swiper
        #swiperSuspiciousActivity
        [slidesPerView]="1"
        [pagination]="true"
        [spaceBetween]="50"
        [config]="{autoHeight: true}"
        (slideChange)="slideChanged(suspiciousSelector,swiperSuspiciousActivity)"
      >
        <ng-template swiperSlide>
          <div class="suspiciousActivity">
            <input type="checkbox" name="" id="" (change)="updateAllSlides()" #allSuspiciousActivitySeeMore hidden>
            <ng-container
              *ngFor="let item of analyticsData?.salesChannels?.all?.suspiciousActivities; let i = index"
            >
              <div class="activity" (click)="activityDetail.openDetail(item.activity)" *ngIf="i < 10 || allSuspiciousActivitySeeMore.checked">
                <div class="title">
                  <!-- <p>{{item.activity.type}}</p> -->
                  <p *ngIf="item.activity.type == 'billDiscounted'">
                    Bill Discounted
                  </p>
                  <p *ngIf="item.activity.type == 'lineDiscounted'">
                    Item Discount
                  </p>
                  <p *ngIf="item.activity.type == 'lineCancelled'">
                    Item Cancelled
                  </p>
                  <p *ngIf="item.activity.type == 'billCancelled'">
                    Bill Cancelled
                  </p>
                  <p *ngIf="item.activity.type == 'billSplit'">
                    Bill Splitted
                  </p>
                  <p *ngIf="item.activity.type == 'billNC'">Bill NC</p>
                  <span
                    ><i class="ri-time-line"></i>{{item.createdDate.toDate() |
                    date:'shortTime'}}</span
                  >
                  <span><i class="ri-user-line"></i>{{item.activity.user}}</span>
                </div>
                <p>{{item.activity.message}}</p>
              </div>
              <p class="seeMore" *ngIf="i == 10" (click)="allSuspiciousActivitySeeMore.click()">
                {{allSuspiciousActivitySeeMore.checked ? 'See Less' :  'See More'}}
              </p>
            </ng-container>
            <div class="noData" *ngIf="!(analyticsData?.salesChannels?.all?.suspiciousActivities)?.length">
              <i class="ri-inbox-2-fill"></i>
              <p>No Data Available</p>
          </div>
          </div>
        </ng-template>
        <ng-template swiperSlide>
          <div class="suspiciousActivity">
            <input type="checkbox" name="" id="" (change)="updateAllSlides()" #dineInSuspiciousActivitySeeMore hidden>
            <ng-container
              *ngFor="let item of analyticsData?.salesChannels?.dineIn?.suspiciousActivities; let i = index"
            >
              <div class="activity" *ngIf="i < 10 || dineInSuspiciousActivitySeeMore.checked">
                <div class="title">
                  <!-- <p>{{item.activity.type}}</p> -->
                  <p *ngIf="item.activity.type == 'billDiscounted'">
                    Bill Discounted
                  </p>
                  <p *ngIf="item.activity.type == 'lineDiscounted'">
                    Item Discount
                  </p>
                  <p *ngIf="item.activity.type == 'lineCancelled'">
                    Item Cancelled
                  </p>
                  <p *ngIf="item.activity.type == 'billCancelled'">
                    Bill Cancelled
                  </p>
                  <p *ngIf="item.activity.type == 'billNC'">Bill NC</p>
                  <span
                    ><i class="ri-time-line"></i>{{item.createdDate.toDate() |
                    date:'shortTime'}}</span
                  >
                  <span><i class="ri-user-line"></i>{{item.activity.user}}</span>
                </div>
                <p>{{item.activity.message}}</p>
              </div>
              <p class="seeMore" *ngIf="i == 10" (click)="dineInSuspiciousActivitySeeMore.click()">
                {{dineInSuspiciousActivitySeeMore.checked ? 'See Less' :  'See More'}}
              </p>
            </ng-container>
            <div class="noData" *ngIf="!(analyticsData?.salesChannels?.dineIn?.suspiciousActivities)?.length">
              <i class="ri-inbox-2-fill"></i>
              <p>No Data Available</p>
            </div>
          </div>
        </ng-template>
        <ng-template swiperSlide>
          <div class="suspiciousActivity">
            <input type="checkbox" name="" id="" (change)="updateAllSlides()" #takeawaySuspiciousActivitySeeMore hidden>
            <ng-container
              *ngFor="let item of analyticsData?.salesChannels?.takeaway?.suspiciousActivities; let i = index"
            >
              <div class="activity" *ngIf="i < 10 || takeawaySuspiciousActivitySeeMore.checked">
                <div class="title">
                  <!-- <p>{{item.activity.type}}</p> -->
                  <p *ngIf="item.activity.type == 'billDiscounted'">
                    Bill Discounted
                  </p>
                  <p *ngIf="item.activity.type == 'lineDiscounted'">
                    Item Discount
                  </p>
                  <p *ngIf="item.activity.type == 'lineCancelled'">
                    Item Cancelled
                  </p>
                  <p *ngIf="item.activity.type == 'billCancelled'">
                    Bill Cancelled
                  </p>
                  <p *ngIf="item.activity.type == 'billNC'">Bill NC</p>
                  <span
                    ><i class="ri-time-line"></i>{{item.createdDate.toDate() |
                    date:'shortTime'}}</span
                  >
                  <span><i class="ri-user-line"></i>{{item.activity.user}}</span>
                </div>
                <p>{{item.activity.message}}</p>
              </div>
              <p class="seeMore" *ngIf="i == 10" (click)="takeawaySuspiciousActivitySeeMore.click()">
                {{takeawaySuspiciousActivitySeeMore.checked ? 'See Less' :  'See More'}}
              </p>
            </ng-container>
            <div class="noData" *ngIf="!(analyticsData?.salesChannels?.takeaway?.suspiciousActivities)?.length">
              <i class="ri-inbox-2-fill"></i>
              <p>No Data Available</p>
            </div>
          </div>
        </ng-template>
        <ng-template swiperSlide>
          <div class="suspiciousActivity">
            <input type="checkbox" name="" id="" (change)="updateAllSlides()" #onlineSuspiciousActivitySeeMore hidden>
            <ng-container
              *ngFor="let item of analyticsData?.salesChannels?.online?.suspiciousActivities; let i = index"
            >
              <div class="activity" *ngIf="i < 10 || onlineSuspiciousActivitySeeMore.checked">
                <div class="title">
                  <!-- <p>{{item.activity.type}}</p> -->
                  <p *ngIf="item.activity.type == 'billDiscounted'">
                    Bill Discounted
                  </p>
                  <p *ngIf="item.activity.type == 'lineDiscounted'">
                    Item Discount
                  </p>
                  <p *ngIf="item.activity.type == 'lineCancelled'">
                    Item Cancelled
                  </p>
                  <p *ngIf="item.activity.type == 'billCancelled'">
                    Bill Cancelled
                  </p>
                  <p *ngIf="item.activity.type == 'billNC'">Bill NC</p>
                  <span
                    ><i class="ri-time-line"></i>{{item.createdDate.toDate() |
                    date:'shortTime'}}</span
                  >
                  <span><i class="ri-user-line"></i>{{item.activity.user}}</span>
                </div>
                <p>{{item.activity.message}}</p>
              </div>
              <p class="seeMore" *ngIf="i == 10" (click)="onlineSuspiciousActivitySeeMore.click()">
                {{onlineSuspiciousActivitySeeMore.checked ? 'See Less' :  'See More'}}
              </p>
            </ng-container>
            <div class="noData" *ngIf="!(analyticsData?.salesChannels?.online?.suspiciousActivities)?.length">
              <i class="ri-inbox-2-fill"></i>
              <p>No Data Available</p>
            </div>
          </div>
        </ng-template>
      </swiper>
    </div>
  </div>
  <div class="summaryCard fadeUp" #userWiseActionSection>
    <div class="heading">
      <p>User Wise Actions</p>
      <select
        (change)="slideNext(actionSelector.value,userWiseActionSwiper);this.updateAllSlides();"
        #actionSelector
        [value]="0"
      >
        <option
          [value]="i"
          *ngFor="let user of analyticsData?.salesChannels?.all?.userWiseActions;let i = index"
        >
          {{user.userId}}
        </option>
      </select>
    </div>
    <div class="userWiseActions">
      <swiper
        #userWiseActionSwiper
        [slidesPerView]="1"
        [pagination]="true"
        [spaceBetween]="20"
        [config]="{autoHeight: true}"
        (slideChange)="slideChanged(actionSelector,userWiseActionSwiper)"
      >
        <ng-container
          *ngFor="let user of analyticsData?.salesChannels?.all?.userWiseActions"
        >
          <ng-template swiperSlide>
            <div class="userActions gm">
              <div class="user">
                <img
                  src="https://api.dicebear.com/6.x/initials/svg?seed={{user.userId}}"
                  alt=""
                />
                <p class="name">{{user.userId}}</p>
                <select
                  #activityMode
                  (change)="updateSlides(userWiseActionSwiper);this.updateAllSlides();"
                >
                  <option value="kots">KOTs</option>
                  <option value="bills">Bills</option>
                  <option value="discounts">Discounts</option>
                  <option value="settlements">Settlements</option>
                  <option value="ncs">NCs</option>
                </select>
              </div>
              <div class="suspiciousActivity">
                <ng-container *ngIf="activityMode.value=='kots'">
                  <input type="checkbox" (change)="updateAllSlides()" name="" id="" #allUserWiseActionsKotsSeeMore hidden>
                  <ng-container *ngFor="let item of user.actions?.kots;let i = index;">
                    <div class="activity" *ngIf="i < 5 || allUserWiseActionsKotsSeeMore.checked">
                      <div class="title">
                        <!-- 'newKot','kotPrinted','kotEdited','kotCancelled','lineCancelled' -->
                        <p *ngIf="item.activity.type == 'newKot'">New Kot</p>
                        <p *ngIf="item.activity.type == 'kotPrinted'">
                          Kot Printed
                        </p>
                        <p *ngIf="item.activity.type == 'kotEdited'">Kot Edited</p>
                        <p *ngIf="item.activity.type == 'kotCancelled'">
                          Kot Cancelled
                        </p>
                        <p *ngIf="item.activity.type == 'lineCancelled'">
                          Line Cancelled
                        </p>
                        <span
                          ><i class="ri-time-line"></i>{{item.createdDate.toDate() |
                          date:'shortTime'}}</span
                        >
                        <span
                          ><i class="ri-user-line"></i>{{item.activity.user}}</span
                        >
                      </div>
                      <p>{{item.activity.message}}</p>
                    </div>
                    <p class="seeMore" *ngIf="i == 5" (click)="allUserWiseActionsKotsSeeMore.click()">
                      {{allUserWiseActionsKotsSeeMore.checked ? 'See Less' :  'See More'}}
                    </p>
                  </ng-container>
                  <div class="noData" *ngIf="!(user.actions?.kots)?.length">
                    <i class="ri-inbox-2-fill"></i>
                    <p>No Data Available</p>
                  </div>
                </ng-container>
                <ng-container *ngIf="activityMode.value=='bills'">
                  <input type="checkbox" (change)="updateAllSlides()" name="" id="" #allUserWiseActionsBillsSeeMore hidden>
                  <ng-container *ngFor="let item of user.actions?.bills;let i = index;">
                    <div class="activity" *ngIf="i < 5 || allUserWiseActionsBillsSeeMore.checked">
                      <div class="title">
                        <!-- 'newKot','kotPrinted','kotEdited','kotCancelled','lineCancelled' -->
                        <p *ngIf="item.activity.type == 'billPrinted'">
                          Bill Printed
                        </p>
                        <p *ngIf="item.activity.type == 'billEdited'">
                          Bill Edited
                        </p>
                        <p *ngIf="item.activity.type == 'billCancelled'">
                          Bill Cancelled
                        </p>
                        <p *ngIf="item.activity.type == 'billSplit'">Bill Split</p>
                        <p *ngIf="item.activity.type == 'customerDetailEntered'">
                          Customer Applied
                        </p>
                        <p *ngIf="item.activity.type == 'billNormal'">
                          Bill to normal
                        </p>
                        <p *ngIf="item.activity.type == 'billFinalized'">
                          Bill Finalized
                        </p>
                        <p *ngIf="item.activity.type == 'instructionSet'">
                          Added Bill Note
                        </p>
                        <p *ngIf="item.activity.type == 'billReactivated'">
                          Bill Reactivated
                        </p>
                        <span
                          ><i class="ri-time-line"></i>{{item.createdDate.toDate() |
                          date:'shortTime'}}</span
                        >
                        <span
                          ><i class="ri-user-line"></i>{{item.activity.user}}</span
                        >
                      </div>
                      <p>{{item.activity.message}}</p>
                    </div>
                      <p class="seeMore" *ngIf="i == 5" (click)="allUserWiseActionsBillsSeeMore.click()">
                        {{allUserWiseActionsBillsSeeMore.checked ? 'See Less' :  'See More'}}
                      </p>
                    <div class="noData" *ngIf="!(user.actions?.bills)?.length">
                      <i class="ri-inbox-2-fill"></i>
                      <p>No Data Available</p>
                    </div>
                  </ng-container>
                </ng-container>
                <ng-container *ngIf="activityMode.value=='discounts'">
                  <input type="checkbox" (change)="updateAllSlides()" name="" id="" #allUserWiseActionsDiscountsSeeMore hidden>
                  <ng-container *ngFor="let item of user.actions?.discounts; let i = index">
                    <div *ngIf="i < 5 || allUserWiseActionsDiscountsSeeMore.checked"
                      class="activity"
                    >
                      <div class="title">
                        <!-- 'newKot','kotPrinted','kotEdited','kotCancelled','lineCancelled' -->
                        <p *ngIf="item.activity.type == 'billDiscounted'">
                          Bill Discounted
                        </p>
                        <p *ngIf="item.activity.type == 'lineDiscounted'">
                          Item Discount
                        </p>
                        <span
                          ><i class="ri-time-line"></i>{{item.createdDate.toDate() |
                          date:'shortTime'}}</span
                        >
                        <span
                          ><i class="ri-user-line"></i>{{item.activity.user}}</span
                        >
                      </div>
                      <p>{{item.activity.message}}</p>
                    </div>
                    <p class="seeMore" *ngIf="i == 5" (click)="allUserWiseActionsDiscountsSeeMore.click()">
                      {{allUserWiseActionsDiscountsSeeMore.checked ? 'See Less' :  'See More'}}
                    </p>
                  </ng-container>
                  <div class="noData" *ngIf="!(user.actions?.discounts)?.length">
                    <i class="ri-inbox-2-fill"></i>
                    <p>No Data Available</p>
                  </div>
                </ng-container>
                <ng-container *ngIf="activityMode.value=='settlements'">
                  <input type="checkbox" (change)="updateAllSlides()" name="" id="" #allUserWiseActionsSettlementsSeeMore hidden>
                  <ng-container *ngFor="let item of user.actions?.settlements; let i = index">
                    <div
                      class="activity"
                      *ngIf="i < 5 || allUserWiseActionsSettlementsSeeMore.checked"
                    >
                      <div class="title">
                        <p *ngIf="item.activity.type == 'billSettled'">
                          Bill Settled
                        </p>
                        <span
                          ><i class="ri-time-line"></i>{{item.createdDate.toDate() |
                          date:'shortTime'}}</span
                        >
                        <span
                          ><i class="ri-user-line"></i>{{item.activity.user}}</span
                        >
                      </div>
                      <p>{{item.activity.message}}</p>
                    </div>
                    <p class="seeMore" *ngIf="i == 5" (click)="allUserWiseActionsSettlementsSeeMore.click()">
                      {{allUserWiseActionsSettlementsSeeMore.checked ? 'See Less' :  'See More'}}
                    </p>
                  </ng-container>
                  <div class="noData" *ngIf="!(user.actions?.settlements)?.length">
                    <i class="ri-inbox-2-fill"></i>
                    <p>No Data Available</p>
                  </div>
                </ng-container>
                <ng-container *ngIf="activityMode.value=='ncs'">
                  <input type="checkbox" (change)="updateAllSlides()" name="" id="" #allUserWiseActionsNcsSeeMore hidden>
                  <ng-container *ngFor="let item of user.actions?.ncs; let i = index">
                    <div class="activity" *ngIf="i < 5 || allUserWiseActionsNcsSeeMore.checked">
                      <div class="title">
                        <p *ngIf="item.activity.type == 'billNC'">Bill To NC</p>
                        <span
                          ><i class="ri-time-line"></i>{{item.createdDate.toDate() |
                          date:'shortTime'}}</span
                        >
                        <span
                          ><i class="ri-user-line"></i>{{item.activity.user}}</span
                        >
                      </div>
                      <p>{{item.activity.message}}</p>
                    </div>
                    <p class="seeMore" *ngIf="i == 5" (click)="allUserWiseActionsNcsSeeMore.click()">
                      {{allUserWiseActionsNcsSeeMore.checked ? 'See Less' :  'See More'}}
                    </p>
                  </ng-container>
                  <div class="noData" *ngIf="!(user.actions?.ncs)?.length">
                    <i class="ri-inbox-2-fill"></i>
                    <p>No Data Available</p>
                  </div>
                </ng-container>
              </div>
            </div>
          </ng-template>
        </ng-container>
      </swiper>
    </div>
  </div>
  <div class="bottomSpacer"></div>
</ng-container>
<ng-container *ngIf="(this.dataProvider.currentBusiness|async)?.businessId!='all'">
  <div>
    <p>Showing analytics for {{(this.dataProvider.currentBusiness|async)?.name}}.</p>
    <p class="refresher">Last updated at: {{analyticsData?.createdAt?.toDate() | date:'short'}}
      <ion-button fill="clear" (click)="refreshData()">
        <ion-icon slot="icon-only" name="refresh"></ion-icon>
      </ion-button>
    </p>
  </div>
  <div class="summaryCard fadeUp">
    <div class="paddedBody">
      <div class="dates" (click)="picker.open()">
        <span>
          {{ dateRangeFormGroup.get("startDate")?.value | date: "dd/MM/yyyy" }}
          - 
          {{ dateRangeFormGroup.get("endDate")?.value | date: "dd/MM/yyyy" }}
        </span>
        <mat-date-range-picker hidden touchUi #picker></mat-date-range-picker>
        <mat-date-range-input
        style="width: 0px;height: 0px;opacity: 0;"
        tabindex="-1"
        hidden
        [formGroup]="dateRangeFormGroup"
        [rangePicker]="picker"
        >
          <input hidden matStartDate formControlName="startDate" placeholder="Start date" />
          <input hidden matEndDate formControlName="endDate" placeholder="End date" />
        </mat-date-range-input>
        <ion-button fill="clear">
          <ion-icon slot="icon-only" name="calendar"></ion-icon>
        </ion-button>
      </div>
    </div>
  </div>
  <div class="summaryCard fadeUp" style="animation-delay:200ms">
    <div class="heading">
      <p>Summary</p>
      <select (change)="slideNext(selector.value,swiperAnalytics)" #selector>
        <option [value]="0">All</option>
        <option [value]="1">Dine In</option>
        <option [value]="2">Takeaway</option>
        <option [value]="3">Online</option>
      </select>
    </div>
    <div class="body">
      <swiper
        #swiperAnalytics
        [slidesPerView]="1"
        [pagination]="true"
        [spaceBetween]="50"
        (slideChange)="slideChanged(selector,swiperContainer)"
        #swiperContainer
      >
        <ng-template swiperSlide>
          <div class="mode">
            <div class="card total">
              <h3>Total Sales:</h3>
              <strong
                >{{ this.analyticsData?.salesChannels?.all?.totalSales | currency
                : "INR" }}</strong
              >
              <p>
                Net Sales: {{ this.analyticsData?.salesChannels?.all?.netSales |
                currency : "INR" }}
              </p>
              <p>
                Settled Bills -
                <span
                  >{{this.analyticsData?.salesChannels?.all?.totalSettledBills}}</span
                >
              </p>
              <p>
                Running Bills -
                <span
                  >{{this.analyticsData?.salesChannels?.all?.totalUnsettledBills}}</span
                >
              </p>
            </div>
            <div class="card discount">
              <p>Discounts</p>
              <strong
                >{{ this.analyticsData?.salesChannels?.all?.totalDiscount |
                currency : "INR" }}</strong
              >
              <p>
                Bills
                <span
                  >{{this.analyticsData?.salesChannels?.all?.totalDiscountedBills}}</span
                >
              </p>
            </div>
            <div class="card nc">
              <p>NC</p>
              <strong
                >{{ this.analyticsData?.salesChannels?.all?.totalNC| currency :
                "INR" }}</strong
              >
              <p>
                Bills
                <span
                  >{{this.analyticsData?.salesChannels?.all?.totalNcBills}}</span
                >
              </p>
            </div>
            <div class="card taxes">
              <h3>Taxes</h3>
              <strong
                >{{ this.analyticsData?.salesChannels?.all?.totalTaxes | currency
                : "INR" }}</strong
              >
            </div>
            <div class="card cancelled">
              <p>Cancelled</p>
              <strong>
                {{ this.analyticsData?.salesChannels?.all?.totalCancelled | currency : "INR" }}
                </strong>
              <p>
                Bills
                <span
                  >{{this.analyticsData?.salesChannels?.all?.totalCancelledBills}}</span
                >
              </p>
            </div>
          </div>
        </ng-template>
        <ng-template swiperSlide>
          <div class="mode">
            <div class="card total">
              <h3>Total Sales:</h3>
              <strong
                >{{ this.analyticsData?.salesChannels?.dineIn?.totalSales |
                currency : "INR" }}</strong
              >
              <p>
                Net Sales: {{ this.analyticsData?.salesChannels?.dineIn?.netSales
                | currency : "INR" }}
              </p>
              <p>
                Settled Bills -
                <span
                  >{{this.analyticsData?.salesChannels?.dineIn?.totalSettledBills}}</span
                >
              </p>
              <p>
                Running Bills -
                <span
                  >{{this.analyticsData?.salesChannels?.dineIn?.totalUnsettledBills}}</span
                >
              </p>
            </div>
            <div class="card discount">
              <p>Discounts</p>
              <strong
                >{{ this.analyticsData?.salesChannels?.dineIn?.totalDiscount |
                currency : "INR" }}</strong
              >
              <p>
                Bills
                <span
                  >{{this.analyticsData?.salesChannels?.dineIn?.totalDiscountedBills}}</span
                >
              </p>
            </div>
            <div class="card nc">
              <p>NC</p>
              <strong
                >{{ this.analyticsData?.salesChannels?.dineIn?.totalNC| currency :
                "INR" }}</strong
              >
              <p>
                Bills
                <span
                  >{{this.analyticsData?.salesChannels?.dineIn?.totalNcBills}}</span
                >
              </p>
            </div>
            <div class="card taxes">
              <h3>Taxes</h3>
              <strong
                >{{ this.analyticsData?.salesChannels?.dineIn?.totalTaxes |
                currency : "INR" }}</strong
              >
            </div>
            <div class="card cancelled">
              <p>Cancelled</p>
              <strong>
                {{ this.analyticsData?.salesChannels?.dineIn?.totalCancelled | currency : "INR" }}
                </strong>
              <p>
                Bills
                <span
                  >{{this.analyticsData?.salesChannels?.dineIn?.totalCancelledBills}}</span
                >
              </p>
            </div>
          </div>
        </ng-template>
        <ng-template swiperSlide>
          <div class="mode">
            <div class="card total">
              <h3>Total Sales:</h3>
              <strong
                >{{ this.analyticsData?.salesChannels?.takeaway?.totalSales |
                currency : "INR" }}</strong
              >
              <p>
                Net Sales: {{
                this.analyticsData?.salesChannels?.takeaway?.netSales | currency :
                "INR" }}
              </p>
              <p>
                Settled Bills -
                <span
                  >{{this.analyticsData?.salesChannels?.takeaway?.totalSettledBills}}</span
                >
              </p>
              <p>
                Running Bills -
                <span
                  >{{this.analyticsData?.salesChannels?.takeaway?.totalUnsettledBills}}</span
                >
              </p>
            </div>
            <div class="card discount">
              <p>Discounts</p>
              <strong
                >{{ this.analyticsData?.salesChannels?.takeaway?.totalDiscount |
                currency : "INR" }}</strong
              >
              <p>
                Bills
                <span
                  >{{this.analyticsData?.salesChannels?.takeaway?.totalDiscountedBills}}</span
                >
              </p>
            </div>
            <div class="card nc">
              <p>NC</p>
              <strong
                >{{ this.analyticsData?.salesChannels?.takeaway?.totalNC| currency
                : "INR" }}</strong
              >
              <p>
                Bills
                <span
                  >{{this.analyticsData?.salesChannels?.takeaway?.totalNcBills}}</span
                >
              </p>
            </div>
            <div class="card taxes">
              <h3>Taxes</h3>
              <strong
                >{{ this.analyticsData?.salesChannels?.takeaway?.totalTaxes |
                currency : "INR" }}</strong
              >
            </div>
            <div class="card cancelled">
              <p>Cancelled</p>
              <strong>
                {{ this.analyticsData?.salesChannels?.takeaway?.totalCancelled | currency : "INR" }}
                </strong>
              <p>
                Bills
                <span
                  >{{this.analyticsData?.salesChannels?.takeaway?.totalCancelledBills}}</span
                >
              </p>
            </div>
          </div>
        </ng-template>
        <ng-template swiperSlide>
          <div class="mode">
            <div class="card total">
              <h3>Total Sales:</h3>
              <strong
                >{{ this.analyticsData?.salesChannels?.online?.totalSales |
                currency : "INR" }}</strong
              >
              <p>
                Net Sales: {{ this.analyticsData?.salesChannels?.online?.netSales
                | currency : "INR" }}
              </p>
              <p>
                Settled Bills -
                <span
                  >{{this.analyticsData?.salesChannels?.online?.totalSettledBills}}</span
                >
              </p>
              <p>
                Running Bills -
                <span
                  >{{this.analyticsData?.salesChannels?.online?.totalUnsettledBills}}</span
                >
              </p>
            </div>
            <div class="card discount">
              <p>Discounts</p>
              <strong
                >{{ this.analyticsData?.salesChannels?.online?.totalDiscount |
                currency : "INR" }}</strong
              >
              <p>
                Bills
                <span
                  >{{this.analyticsData?.salesChannels?.online?.totalDiscountedBills}}</span
                >
              </p>
            </div>
            <div class="card nc">
              <p>NC</p>
              <strong
                >{{ this.analyticsData?.salesChannels?.online?.totalNC| currency :
                "INR" }}</strong
              >
              <p>
                Bills
                <span
                  >{{this.analyticsData?.salesChannels?.online?.totalNcBills}}</span
                >
              </p>
            </div>
            <div class="card taxes">
              <h3>Taxes</h3>
              <strong
                >{{ this.analyticsData?.salesChannels?.online?.totalTaxes |
                currency : "INR" }}</strong
              >
            </div>
            <div class="card cancelled">
              <p>Cancelled</p>
              <strong>
                {{ this.analyticsData?.salesChannels?.online?.totalCancelled | currency : "INR" }}
                </strong>
              <p>
                Bills
                <span
                  >{{this.analyticsData?.salesChannels?.online?.totalCancelledBills}}</span
                >
              </p>
            </div>
          </div>
        </ng-template>
      </swiper>
    </div>
  </div>
  <div class="summaryCard fadeUp" style="animation-delay:300ms">
    <div class="heading">
      <p>Quick Links</p>
    </div>
    <div class="quickLinks">
      <div class="link gm" (click)="itemWiseSalesSection.scrollIntoView()">Item Wise Sales</div>
      <div class="link gm" (click)="userWiseActionSection.scrollIntoView()">User wise actions</div>
    </div>
  </div>
  <div class="summaryCard fadeUp" style="animation-delay:400ms">
    <div class="heading">
      <p><span class="actual"></span> Actual Sales Vs <span class="average"></span> Avg Sales</p>
    </div>
    <div class="salesVsActualGraph gm">
      <canvas id="salesData"></canvas>
    </div>
  </div>
  <div class="summaryCard fadeUp" style="animation-delay:500ms">
    <div class="heading">
      <p>Payment Received</p>
      <select
        (change)="slideNext(paymentSelector.value,swiperPaymentModes)"
        #paymentSelector
      >
        <option [value]="0">All</option>
        <option [value]="1">Dine In</option>
        <option [value]="2">Takeaway</option>
        <option [value]="3">Online</option>
      </select>
    </div>
    <div class="body">
      <swiper
        #swiperPaymentModes
        [slidesPerView]="1"
        [pagination]="true"
        [config]="{autoHeight: true}"
        [spaceBetween]="50"
        (slideChange)="slideChanged(paymentSelector,swiperPaymentModes)"
      >
        <ng-template swiperSlide>
          <div class="paymentReceived">
            <p>All Channel</p>
            <div
              class="modes"
              *ngIf="this.analyticsData?.salesChannels?.all?.paymentReceived"
            >
              <div
                class="channel"
                *ngFor="let channel of this.analyticsData?.salesChannels?.all?.paymentReceived | keyvalue"
              >
                <div class="title">
                  <p>{{ channel.key }}</p>
                  <p>{{ channel.value }}</p>
                </div>
                <div class="progressBar">
                  <div
                    class="progress"
                    [ngStyle]="{
                  width:
                    (channel.value / (this.analyticsData?.salesChannels?.all?.totalSales || 0)) * 100 + '%'
                  }"
                  ></div>
                </div>
              </div>
            </div>
            <div class="noData" *ngIf="!(this.analyticsData?.salesChannels?.all?.paymentReceived | keyvalue)?.length">
              <i class="ri-inbox-2-fill"></i>
              <p>No Data Available</p>
            </div>
          </div>
        </ng-template>
        <ng-template swiperSlide>
          <div class="paymentReceived">
            <p>Dine-In Channel</p>
            <div
              class="modes"
              *ngIf="this.analyticsData?.salesChannels?.dineIn?.paymentReceived"
            >
              <div
                class="channel"
                *ngFor="let channel of this.analyticsData?.salesChannels?.dineIn?.paymentReceived | keyvalue"
              >
                <div class="title">
                  <p>{{ channel.key }}</p>
                  <p>{{ channel.value }}</p>
                </div>
                <div class="progressBar">
                  <div
                    class="progress"
                    [ngStyle]="{
                  width:
                    (channel.value / (this.analyticsData?.salesChannels?.dineIn?.totalSales || 0)) * 100 + '%'
                  }"
                  ></div>
                </div>
              </div>
            </div>
            <div class="noData" *ngIf="!(this.analyticsData?.salesChannels?.dineIn?.paymentReceived | keyvalue)?.length">
              <i class="ri-inbox-2-fill"></i>
              <p>No Data Available</p>
            </div>
          </div>
        </ng-template>
        <ng-template swiperSlide>
          <div class="paymentReceived">
            <p>Takeaway Channel</p>
            <div
              class="modes"
              *ngIf="this.analyticsData?.salesChannels?.takeaway?.paymentReceived"
            >
              <div
                class="channel"
                *ngFor="let channel of this.analyticsData?.salesChannels?.takeaway?.paymentReceived | keyvalue"
              >
                <div class="title">
                  <p>{{ channel.key }}</p>
                  <p>{{ channel.value }}</p>
                </div>
                <div class="progressBar">
                  <div
                    class="progress"
                    [ngStyle]="{
                  width:
                    (channel.value / (this.analyticsData?.salesChannels?.takeaway?.totalSales || 0)) * 100 + '%'
                  }"
                  ></div>
                </div>
              </div>
            </div>
            <div class="noData" *ngIf="!(this.analyticsData?.salesChannels?.takeaway?.paymentReceived | keyvalue)?.length">
              <i class="ri-inbox-2-fill"></i>
              <p>No Data Available</p>
            </div>
          </div>
        </ng-template>
        <ng-template swiperSlide>
          <div class="paymentReceived">
            <p>Online Channel</p>
            <div
              class="modes"
              *ngIf="this.analyticsData?.salesChannels?.online?.paymentReceived"
            >
              <div
                class="channel"
                *ngFor="let channel of this.analyticsData?.salesChannels?.online?.paymentReceived | keyvalue"
              >
                <div class="title">
                  <p>{{ channel.key }}</p>
                  <p>{{ channel.value }}</p>
                </div>
                <div class="progressBar">
                  <div
                    class="progress"
                    [ngStyle]="{
                width:
                  (channel.value / (this.analyticsData?.salesChannels?.online?.totalSales || 0)) * 100 + '%'
                }"
                  ></div>
                </div>
              </div>
            </div>
            <div class="noData" *ngIf="!(this.analyticsData?.salesChannels?.online?.paymentReceived | keyvalue)?.length">
              <i class="ri-inbox-2-fill"></i>
              <p>No Data Available</p>
            </div>
          </div>
        </ng-template>
      </swiper>
    </div>
  </div>
  <div class="summaryCard fadeUp">
    <div class="heading">
      <p>Bill Wise Sales</p>
      <select #typeSelector (change)="updateSlides(billWiseSwiperContainer)">
        <option value="range">By Range</option>
        <option value="table">By Table</option>
        <option value="time">By Time</option>
      </select>
      <select
        #channelSelector
        (change)="slideNext(channelSelector.value,billWiseSwiperContainer)"
      >
        <option [value]="0">All</option>
        <option [value]="1">Dine In</option>
        <option [value]="2">Takeaway</option>
        <option [value]="3">Online</option>
      </select>
    </div>
    <div class="body">
      <swiper
        [slidesPerView]="1"
        [spaceBetween]="50"
        [pagination]="true"
        [config]="{autoHeight: true}"
        #billWiseSwiperContainer
        (slideChange)="slideChanged(channelSelector,billWiseSwiperContainer)"
      >
        <ng-template swiperSlide>
          <div class="modes" *ngIf="typeSelector.value == 'range'">
            <div class="channel">
              <div class="title">
                <p>Low Range</p>
                <p>
                  {{
                  (analyticsData?.salesChannels?.all?.billWiseSales?.rangeWise?.lowRange?.bills
                  || []).length }}
                </p>
              </div>
              <div class="progressBar">
                <div
                  class="progress"
                  [ngStyle]="{
                    width: ((((analyticsData?.salesChannels?.all?.billWiseSales?.rangeWise?.lowRange?.bills || []).length) / (analyticsData?.salesChannels?.all?.maxBillsInRange || 100))*100)+'%'
                  }"
                ></div>
              </div>
            </div>
            <div class="channel">
              <div class="title">
                <p>Medium Range</p>
                <p>
                  {{
                  (analyticsData?.salesChannels?.all?.billWiseSales?.rangeWise?.mediumRange?.bills
                  || []).length }}
                </p>
              </div>
              <div class="progressBar">
                <div
                  class="progress"
                  [ngStyle]="{
                    width: ((((analyticsData?.salesChannels?.all?.billWiseSales?.rangeWise?.mediumRange?.bills || []).length) / (analyticsData?.salesChannels?.all?.maxBillsInRange || 100))*100) + '%'
                  }"
                ></div>
              </div>
            </div>
            <div class="channel">
              <div class="title">
                <p>High Range</p>
                <p>
                  {{
                  (analyticsData?.salesChannels?.all?.billWiseSales?.rangeWise?.highRange?.bills
                  || []).length }}
                </p>
              </div>
              <div class="progressBar">
                <div
                  class="progress"
                  [ngStyle]="{
                    width: ((((analyticsData?.salesChannels?.all?.billWiseSales?.rangeWise?.highRange?.bills || []).length) / (analyticsData?.salesChannels?.all?.maxBillsInRange || 100))*100)+'%'
                  }"
                ></div>
              </div>
            </div>
          </div>
          <div class="modes" *ngIf="typeSelector.value == 'table'">
            <input type="checkbox" (change)="updateAllSlides()" #billWiseTableWiseSeeMore hidden>
            <ng-container
              *ngFor="let table of analyticsData?.salesChannels?.all?.billWiseSales?.tableWise; let i = index"
            >
              <div class="channel" *ngIf="i < 10 || billWiseTableWiseSeeMore.checked">
                <div class="title">
                  <p>{{table.table}}</p>
                  <p>{{ table.totalBills }}</p>
                </div>
                <div class="progressBar">
                  <div
                    class="progress"
                    [ngStyle]="{
                    width: (((table.totalBills || 0) / (analyticsData?.salesChannels?.all?.billWiseSales?.maxTables || 0)) * 100)+'%'
                    }"
                  ></div>
                </div>
              </div>
              <p class="seeMore" *ngIf="i == 10" (click)="billWiseTableWiseSeeMore.click()">
                {{billWiseTableWiseSeeMore.checked ? 'See Less' :  'See More'}}
              </p>
            </ng-container>
            <div class="noData" *ngIf="!analyticsData?.salesChannels?.all?.billWiseSales?.tableWise?.length">
              <i class="ri-inbox-2-fill"></i>
              <p>No Data Available</p>
            </div>
          </div>
          <div class="modes" *ngIf="typeSelector.value == 'time'">
            <input type="checkbox" name="" id="" (change)="updateAllSlides()" #billWiseTimeWiseSeeMore hidden>
            <ng-container
              *ngFor="let time of analyticsData?.salesChannels?.all?.billWiseSales?.time; let i = index"
            >
              <div class="channel" *ngIf="i<10 || billWiseTimeWiseSeeMore.checked">
                <div class="title">
                  <p>
                    {{time.time}}:00 {{time.timeNumber > 12 ? 'AM' : 'PM'}} -
                    {{time.time + 1}}:00 {{(time.timeNumber +1) > 12 ? 'AM' :
                    'PM'}}
                  </p>
                  <p>{{ time.totalBills }}</p>
                </div>
                <div class="progressBar">
                  <div
                    class="progress"
                    [ngStyle]="{
                      width: (((time.totalBills || 0) / (((analyticsData?.salesChannels?.all?.totalSettledBills || 0) + (analyticsData?.salesChannels?.all?.totalUnsettledBills || 0)) + (analyticsData?.salesChannels?.all?.totalUnsettledBills || 0)))*100)+'%'
                    }"
                  ></div>
                </div>
              </div>
              <p class="seeMore" *ngIf="i == 10" (click)="billWiseTimeWiseSeeMore.click()">
                {{billWiseTimeWiseSeeMore.checked ? 'See Less' :  'See More'}}
              </p>
            </ng-container>
            <div class="noData" *ngIf="!analyticsData?.salesChannels?.all?.billWiseSales?.tableWise?.length">
              <i class="ri-inbox-2-fill"></i>
              <p>No Data Available</p>
            </div>
          </div>
        </ng-template>
        <ng-template swiperSlide>
          <div class="modes" *ngIf="typeSelector.value == 'range'">
            <div class="channel">
              <div class="title">
                <p>Low Range</p>
                <p>
                  {{
                  (analyticsData?.salesChannels?.dineIn?.billWiseSales?.rangeWise?.lowRange?.bills
                  || []).length }}
                </p>
              </div>
              <div class="progressBar">
                <div
                  class="progress"
                  [ngStyle]="{
                    width: ((((analyticsData?.salesChannels?.dineIn?.billWiseSales?.rangeWise?.lowRange?.bills || []).length) / (analyticsData?.salesChannels?.all?.maxBillsInRange || 100))*100)+'%'
                  }"
                ></div>
              </div>
            </div>
            <div class="channel">
              <div class="title">
                <p>Medium Range</p>
                <p>
                  {{
                  (analyticsData?.salesChannels?.dineIn?.billWiseSales?.rangeWise?.mediumRange?.bills
                  || []).length }}
                </p>
              </div>
              <div class="progressBar">
                <div
                  class="progress"
                  [ngStyle]="{
                    width: ((((analyticsData?.salesChannels?.dineIn?.billWiseSales?.rangeWise?.mediumRange?.bills || []).length) / (analyticsData?.salesChannels?.all?.maxBillsInRange || 100))*100) + '%'
                  }"
                ></div>
              </div>
            </div>
            <div class="channel">
              <div class="title">
                <p>High Range</p>
                <p>
                  {{
                  (analyticsData?.salesChannels?.dineIn?.billWiseSales?.rangeWise?.highRange?.bills
                  || []).length }}
                </p>
              </div>
              <div class="progressBar">
                <div
                  class="progress"
                  [ngStyle]="{
                    width: ((((analyticsData?.salesChannels?.dineIn?.billWiseSales?.rangeWise?.highRange?.bills || []).length) / (analyticsData?.salesChannels?.all?.maxBillsInRange || 100))*100)+'%'
                  }"
                ></div>
              </div>
            </div>
          </div>
          <div class="modes" *ngIf="typeSelector.value == 'table'">
            <input type="checkbox" name="" id="" (change)="updateAllSlides()" #billWiseTableWiseSalesSeeMore hidden>
            <ng-container
              *ngFor="let table of analyticsData?.salesChannels?.dineIn?.billWiseSales?.tableWise; let i = index"
            >
              <div class="channel" *ngIf="i<10 || billWiseTableWiseSalesSeeMore.checked">
                <div class="title">
                  <p>{{table.table}}</p>
                  <p>{{ table.totalBills }}</p>
                </div>
                <div class="progressBar">
                  <div
                    class="progress"
                    [ngStyle]="{
                    width: (((table.totalBills || 0) / (analyticsData?.salesChannels?.all?.billWiseSales?.maxTables || 0))*100) + '%'
                  }"
                  ></div>
                </div>
              </div>
              <p class="seeMore" *ngIf="i == 10" (click)="billWiseTableWiseSalesSeeMore.click()">
                {{billWiseTableWiseSalesSeeMore.checked ? 'See Less' :  'See More'}}
              </p>
            </ng-container>
            <div class="noData" *ngIf="!analyticsData?.salesChannels?.dineIn?.billWiseSales?.tableWise?.length">
              <i class="ri-inbox-2-fill"></i>
              <p>No Data Available</p>
            </div>
          </div>
          <div class="modes" *ngIf="typeSelector.value == 'time'">
            <input type="checkbox" name="" id="" (change)="updateAllSlides()" #billWiseDineinTableWiseTimeSeeMore hidden>
            <ng-container
              *ngFor="let time of analyticsData?.salesChannels?.dineIn?.billWiseSales?.time; let i = index"
            >
              <div class="channel" *ngIf="i < 10 || billWiseDineinTableWiseTimeSeeMore.checked">
                <div class="title">
                  <p>
                    {{time.time}}:00 {{time.timeNumber > 12 ? 'AM' : 'PM'}} -
                    {{time.time + 1}}:00 {{(time.timeNumber +1) > 12 ? 'AM' :
                    'PM'}}
                  </p>
                  <p>{{ time.totalBills }}</p>
                </div>
                <div class="progressBar">
                  <div
                    class="progress"
                    [ngStyle]="{
                    width: ((time.totalBills || 0) / ((analyticsData?.salesChannels?.dineIn?.totalSettledBills || 0) + (analyticsData?.salesChannels?.dineIn?.totalUnsettledBills || 0))*100)+'%'
                    }"
                  ></div>
                </div>
              </div>
              <p class="seeMore" *ngIf="i == 10" (click)="billWiseDineinTableWiseTimeSeeMore.click()">
                {{billWiseDineinTableWiseTimeSeeMore.checked ? 'See Less' :  'See More'}}
              </p>
            </ng-container>
            <div class="noData" *ngIf="!analyticsData?.salesChannels?.dineIn?.billWiseSales?.tableWise?.length">
              <i class="ri-inbox-2-fill"></i>
              <p>No Data Available</p>
            </div>
          </div>
        </ng-template>
        <ng-template swiperSlide>
          <div class="modes" *ngIf="typeSelector.value == 'range'">
            <div class="channel">
              <div class="title">
                <p>Low Range</p>
                <p>
                  {{
                  (analyticsData?.salesChannels?.takeaway?.billWiseSales?.rangeWise?.lowRange?.bills
                  || []).length }}
                </p>
              </div>
              <div class="progressBar">
                <div
                  class="progress"
                  [ngStyle]="{
                    width: ((((analyticsData?.salesChannels?.takeaway?.billWiseSales?.rangeWise?.lowRange?.bills || []).length) / (analyticsData?.salesChannels?.takeaway?.totalSettledBills || 0))*100)+'%'
                  }"
                ></div>
              </div>
            </div>
            <div class="channel">
              <div class="title">
                <p>Medium Range</p>
                <p>
                  {{
                  (analyticsData?.salesChannels?.takeaway?.billWiseSales?.rangeWise?.mediumRange?.bills
                  || []).length }}
                </p>
              </div>
              <div class="progressBar">
                <div
                  class="progress"
                  [ngStyle]="{
                    width: ((((analyticsData?.salesChannels?.takeaway?.billWiseSales?.rangeWise?.mediumRange?.bills || []).length) / (analyticsData?.salesChannels?.takeaway?.totalSettledBills || 0))*100) + '%'
                  }"
                ></div>
              </div>
            </div>
            <div class="channel">
              <div class="title">
                <p>High Range</p>
                <p>
                  {{
                  (analyticsData?.salesChannels?.takeaway?.billWiseSales?.rangeWise?.highRange?.bills
                  || []).length }}
                </p>
              </div>
              <div class="progressBar">
                <div
                  class="progress"
                  [ngStyle]="{
                    width: ((((analyticsData?.salesChannels?.takeaway?.billWiseSales?.rangeWise?.highRange?.bills || []).length) / (analyticsData?.salesChannels?.takeaway?.totalSettledBills || 0))*100)+'%'
                  }"
                ></div>
              </div>
            </div>
          </div>
          <div class="modes" *ngIf="typeSelector.value == 'table'">
            <input type="checkbox" name="" id="" (change)="updateAllSlides()" #billWiseTakeawayTableWiseTimeSeeMore hidden>
            <ng-container
              *ngFor="let table of analyticsData?.salesChannels?.takeaway?.billWiseSales?.tableWise; let i = index"
            >
              <div class="channel" *ngIf="i <10 || billWiseTakeawayTableWiseTimeSeeMore.checked">
                <div class="title">
                  <p>{{table.table}}</p>
                  <p>{{ table.totalBills }}</p>
                </div>
                <div class="progressBar">
                  <div
                    class="progress"
                    [ngStyle]="{
                      width: ((table.totalBills || 0) / (analyticsData?.salesChannels?.takeaway?.billWiseSales?.maxTables || 0)) + '%'
                    }"
                  ></div>
                </div>
              </div>
              <p class="seeMore" *ngIf="i == 10" (click)="billWiseTakeawayTableWiseTimeSeeMore.click()">
                {{billWiseTakeawayTableWiseTimeSeeMore.checked ? 'See Less' :  'See More'}}
              </p>
            </ng-container>
            <div class="noData" *ngIf="!analyticsData?.salesChannels?.takeaway?.billWiseSales?.tableWise?.length">
              <i class="ri-inbox-2-fill"></i>
              <p>No Data Available</p>
            </div>
          </div>
          <div class="modes" *ngIf="typeSelector.value == 'time'">
            <ng-container
              *ngFor="let time of analyticsData?.salesChannels?.takeaway?.billWiseSales?.time; let i = index"
            >
              <div class="channel" *ngIf="i < 10">
                <div class="title">
                  <p>
                    {{time.time}}:00 {{time.timeNumber > 12 ? 'AM' : 'PM'}} -
                    {{time.time + 1}}:00 {{(time.timeNumber +1) > 12 ? 'AM' :
                    'PM'}}
                  </p>
                  <p>{{ time.totalBills }}</p>
                </div>
                <div class="progressBar">
                  <div
                    class="progress"
                    [ngStyle]="{
                      width: ((time.totalBills || 0) / ((analyticsData?.salesChannels?.takeaway?.totalSettledBills || 0) + (analyticsData?.salesChannels?.takeaway?.totalUnsettledBills || 0))*100)+'%'
                    }"
                  ></div>
                </div>
              </div>
              <p *ngIf="i == 10"></p>
            </ng-container>
            <div class="noData" *ngIf="!analyticsData?.salesChannels?.takeaway?.billWiseSales?.tableWise?.length">
              <i class="ri-inbox-2-fill"></i>
              <p>No Data Available</p>
            </div>
          </div>
        </ng-template>
        <ng-template swiperSlide>
          <div class="modes" *ngIf="typeSelector.value == 'range'">
            <div class="channel">
              <div class="title">
                <p>Low Range</p>
                <p>
                  {{
                  (analyticsData?.salesChannels?.online?.billWiseSales?.rangeWise?.lowRange?.bills
                  || []).length }}
                </p>
              </div>
              <div class="progressBar">
                <div
                  class="progress"
                  [ngStyle]="{
                    width: ((((analyticsData?.salesChannels?.online?.billWiseSales?.rangeWise?.lowRange?.bills || []).length) / (analyticsData?.salesChannels?.online?.totalSettledBills || 0))*100)+'%'
                  }"
                ></div>
              </div>
            </div>
            <div class="channel">
              <div class="title">
                <p>Medium Range</p>
                <p>
                  {{
                  (analyticsData?.salesChannels?.online?.billWiseSales?.rangeWise?.mediumRange?.bills
                  || []).length }}
                </p>
              </div>
              <div class="progressBar">
                <div
                  class="progress"
                  [ngStyle]="{
                    width: ((((analyticsData?.salesChannels?.online?.billWiseSales?.rangeWise?.mediumRange?.bills || []).length) / (analyticsData?.salesChannels?.online?.totalSettledBills || 0))*100) + '%'
                  }"
                ></div>
              </div>
            </div>
            <div class="channel">
              <div class="title">
                <p>High Range</p>
                <p>
                  {{
                  (analyticsData?.salesChannels?.online?.billWiseSales?.rangeWise?.highRange?.bills
                  || []).length }}
                </p>
              </div>
              <div class="progressBar">
                <div
                  class="progress"
                  [ngStyle]="{
                    width: ((((analyticsData?.salesChannels?.online?.billWiseSales?.rangeWise?.highRange?.bills || []).length) / (analyticsData?.salesChannels?.online?.totalSettledBills || 0))*100)+'%'
                  }"
                ></div>
              </div>
            </div>
          </div>
          <div class="modes" *ngIf="typeSelector.value == 'table'">
            <input type="checkbox" name="" id="" (change)="updateAllSlides()" #billWiseOnlineTableWiseTimeSeeMore hidden>
            <ng-container
              *ngFor="let table of analyticsData?.salesChannels?.online?.billWiseSales?.tableWise; let i = index"
            >
              <div class="channel" *ngIf="i < 10 || billWiseOnlineTableWiseTimeSeeMore.checked">
                <div class="title">
                  <p>{{table.table}}</p>
                  <p>{{ table.totalBills }}</p>
                </div>
                <div class="progressBar">
                  <div
                    class="progress"
                    [ngStyle]="{
                  width: ((table.totalBills || 0) / (analyticsData?.salesChannels?.online?.billWiseSales?.maxTables || 0)) + '%'
                  }"
                  ></div>
                </div>
              </div>
              <p class="seeMore" *ngIf="i == 10" (click)="billWiseOnlineTableWiseTimeSeeMore.click()">
                {{billWiseOnlineTableWiseTimeSeeMore.checked ? 'See Less' :  'See More'}}
              </p>
            </ng-container>
            <div class="noData" *ngIf="!analyticsData?.salesChannels?.online?.billWiseSales?.tableWise?.length">
              <i class="ri-inbox-2-fill"></i>
              <p>No Data Available</p>
            </div>
          </div>
          <div class="modes" *ngIf="typeSelector.value == 'time'">
            <input type="checkbox" name="" id="" (change)="updateAllSlides()" #billWiseSalesOnlineSeeMore hidden>
            <ng-container
              *ngFor="let time of analyticsData?.salesChannels?.online?.billWiseSales?.time; let i = index"
            >
              <div class="channel" *ngIf="i<10 || billWiseSalesOnlineSeeMore.checked">
                <div class="title">
                  <p>
                    {{time.time}}:00 {{time.timeNumber > 12 ? 'AM' : 'PM'}} -
                    {{time.time + 1}}:00 {{(time.timeNumber +1) > 12 ? 'AM' :
                    'PM'}}
                  </p>
                  <p>{{ time.totalBills }}</p>
                </div>
                <div class="progressBar">
                  <div
                    class="progress"
                    [ngStyle]="{
                  width: ((time.totalBills || 0) / ((analyticsData?.salesChannels?.online?.totalSettledBills || 0) + (analyticsData?.salesChannels?.online?.totalUnsettledBills || 0))*100)+'%'
                  }"
                  ></div>
                </div>
              </div>
              <p class="seeMore" *ngIf="i == 10" (click)="billWiseSalesOnlineSeeMore.click()">
                {{billWiseSalesOnlineSeeMore.checked ? 'See Less' :  'See More'}}
              </p>
            </ng-container>
            <div class="noData" *ngIf="!analyticsData?.salesChannels?.online?.billWiseSales?.tableWise?.length">
              <i class="ri-inbox-2-fill"></i>
              <p>No Data Available</p>
            </div>
          </div>
        </ng-template>
      </swiper>
    </div>
  </div>
  <div class="summaryCard fadeUp" #itemWiseSalesSection>
    <div class="heading">
      <p>Item Wise Sales</p>
      <select
        #itemWiseSalesSelector
        (change)="slideNext(itemWiseSalesSelector.value,swiperItemSales)"
      >
        <option [value]="0">All</option>
        <option [value]="1">Dine In</option>
        <option [value]="2">Takeaway</option>
        <option [value]="3">Online</option>
      </select>
    </div>
    <div class="body">
      <swiper
        [slidesPerView]="1"
        [spaceBetween]="50"
        [pagination]="true"
        [config]="{autoHeight: true}"
        #swiperItemSales
        (slideChange)="slideChanged(itemWiseSalesSelector,swiperItemSales)"
      >
        <ng-template swiperSlide>
          <div class="itemWiseSales">
            <div class="category">
              <p>Most Selling category</p>
              <p *ngIf="mostSellingToggle.value == 'byPrice'">
                {{analyticsData?.salesChannels?.all?.itemWiseSales?.priceTopCategory?.name}}
              </p>
              <p *ngIf="mostSellingToggle.value == 'byQuantity'">
                {{analyticsData?.salesChannels?.all?.itemWiseSales?.quantityTopCategory?.name}}
              </p>
            </div>
            <hr />
            <select hidden #mostSellingToggle (change)="this.updateAllSlides();">
              <option value="byPrice"></option>
              <option value="byQuantity"></option>
            </select>
            <div class="toggles">
              <button
                class="toggle"
                [ngClass]="{active:mostSellingToggle.value == 'byPrice'}"
                (click)="mostSellingToggle.value = 'byPrice'"
              >
                By Price
              </button>
              <button
                class="toggle"
                [ngClass]="{active:mostSellingToggle.value == 'byQuantity'}"
                (click)="mostSellingToggle.value = 'byQuantity'"
              >
                By Quantity
              </button>
            </div>
            <div
              class="modes"
              *ngIf="analyticsData?.salesChannels?.all?.itemWiseSales?.byPrice?.length && mostSellingToggle.value == 'byPrice'"
            >
              <input type="checkbox" name="" id="" (change)="updateAllSlides()" #itemWiseSalesByPriceSeeMore hidden>
              <ng-container
                *ngFor="let channel of analyticsData?.salesChannels?.all?.itemWiseSales?.byPrice; let i = index;"
              >
                <div class="channel" *ngIf="i<10 || itemWiseSalesByPriceSeeMore.checked">
                  <div class="title">
                    <p>{{ channel.name }}</p>
                    <p>{{ channel.price }}</p>
                  </div>
                  <div class="progressBar">
                    <div
                      class="progress"
                      [ngStyle]="{
                        width: ((channel.price / (analyticsData?.salesChannels?.all?.itemWiseSales?.byPriceMax || 0))*100)+'%'
                      }"
                    ></div>
                  </div>
                </div>
                <p class="seeMore" *ngIf="i == 10" (click)="itemWiseSalesByPriceSeeMore.click()">
                  {{itemWiseSalesByPriceSeeMore.checked ? 'See Less' :  'See More'}}
                </p>
              </ng-container>
            </div>
            <!-- no data -->
            <div class="noData" *ngIf="analyticsData?.salesChannels?.all?.itemWiseSales?.byPrice?.length==0 && mostSellingToggle.value == 'byPrice'">
              <i class="ri-inbox-2-fill"></i>
              <p>No Data Available</p>
            </div>
            <div
              class="modes"
              *ngIf="analyticsData?.salesChannels?.all?.itemWiseSales?.byQuantity?.length && mostSellingToggle.value == 'byQuantity'"
            >
              <input type="checkbox" name="" id="" (change)="updateAllSlides()" #itemWiseSalesByQuantitySeeMore hidden>
              <ng-container
                *ngFor="let channel of analyticsData?.salesChannels?.all?.itemWiseSales?.byQuantity; let i = index"
              >
                <div *ngIf="i < 10 || itemWiseSalesByQuantitySeeMore.checked" class="channel">
                  <div class="title">
                    <p>{{ channel.name }}</p>
                    <p>{{ channel.quantity }}</p>
                  </div>
                  <div class="progressBar">
                    <div
                      class="progress"
                      [ngStyle]="{
                        width: ((channel.quantity / (analyticsData?.salesChannels?.all?.itemWiseSales?.byQuantityMax || 0))*100)+'%'
                      }"
                    ></div>
                  </div>
                </div>
                <p class="seeMore" *ngIf="i == 10" (click)="itemWiseSalesByQuantitySeeMore.click()">
                  {{itemWiseSalesByQuantitySeeMore.checked ? 'See Less' :  'See More'}}
                </p>
              </ng-container>
            </div>
            <div class="noData" *ngIf="analyticsData?.salesChannels?.all?.itemWiseSales?.byPrice?.length==0 && mostSellingToggle.value == 'byQuantity'">
              <i class="ri-inbox-2-fill"></i>
              <p>No Data Available</p>
            </div>
          </div>
        </ng-template>
        <ng-template swiperSlide>
          <div class="itemWiseSales">
            <div class="category">
              <p>Most Selling category</p>
              <p>Category Name</p>
            </div>
            <hr />
            <select hidden #mostSellingToggle (change)="this.updateAllSlides();">
              <option value="byPrice"></option>
              <option value="byQuantity"></option>
            </select>
            <div class="toggles">
              <button
                class="toggle"
                [ngClass]="{active:mostSellingToggle.value == 'byPrice'}"
                (click)="mostSellingToggle.value = 'byPrice'"
              >
                By Price
              </button>
              <button
                class="toggle"
                [ngClass]="{active:mostSellingToggle.value == 'byQuantity'}"
                (click)="mostSellingToggle.value = 'byQuantity'"
              >
                By Quantity
              </button>
            </div>
            <div
              class="modes"
              *ngIf="analyticsData?.salesChannels?.dineIn?.itemWiseSales?.byPrice?.length && mostSellingToggle.value == 'byPrice'"
            >
              <input type="checkbox" name="" id="" (change)="updateAllSlides()" #itemWiseSalesDineInByPriceSeeMore hidden>
              <ng-container
                *ngFor="let channel of analyticsData?.salesChannels?.dineIn?.itemWiseSales?.byPrice; let i = index;"
              >
                <div class="channel" *ngIf="i < 10 || itemWiseSalesDineInByPriceSeeMore.checked">
                  <div class="title">
                    <p>{{ channel.name }}</p>
                    <p>{{ channel.price }}</p>
                  </div>
                  <div class="progressBar">
                    <div
                      class="progress"
                      [ngStyle]="{
                        width: ((channel.price / (analyticsData?.salesChannels?.dineIn?.itemWiseSales?.byPriceMax || 0))*100)+'%'
                      }"
                    ></div>
                  </div>
                </div>
                <p class="seeMore" *ngIf="i == 10" (click)="itemWiseSalesDineInByPriceSeeMore.click()">
                  {{itemWiseSalesDineInByPriceSeeMore.checked ? 'See Less' :  'See More'}}
                </p>
              </ng-container>
            </div>
            <div class="noData" *ngIf="analyticsData?.salesChannels?.dineIn?.itemWiseSales?.byPrice?.length==0 && mostSellingToggle.value == 'byPrice'">
              <i class="ri-inbox-2-fill"></i>
              <p>No Data Available</p>
            </div>
            <div
              class="modes"
              *ngIf="analyticsData?.salesChannels?.dineIn?.itemWiseSales?.byQuantity?.length && mostSellingToggle.value == 'byQuantity'"
            >
              <input type="checkbox" name="" id="" (change)="updateAllSlides()" #itemWiseSalesDineInByQuantitySeeMore hidden>
              <ng-container
                *ngFor="let channel of analyticsData?.salesChannels?.dineIn?.itemWiseSales?.byQuantity; let i = index"
              >
                <div class="channel" *ngIf="i < 10 || itemWiseSalesDineInByQuantitySeeMore.checked">
                  <div class="title">
                    <p>{{ channel.name }}</p>
                    <p>{{ channel.quantity }}</p>
                  </div>
                  <div class="progressBar">
                    <div
                      class="progress"
                      [ngStyle]="{
                        width: ((channel.quantity / (analyticsData?.salesChannels?.dineIn?.itemWiseSales?.byQuantityMax || 0))*100)+'%'
                      }"
                    ></div>
                  </div>
                </div>
                <p class="seeMore" *ngIf="i == 10" (click)="itemWiseSalesDineInByQuantitySeeMore.click()">
                  {{itemWiseSalesDineInByQuantitySeeMore.checked ? 'See Less' :  'See More'}}
                </p>
              </ng-container>
            </div>
            <div class="noData" *ngIf="analyticsData?.salesChannels?.dineIn?.itemWiseSales?.byPrice?.length==0 && mostSellingToggle.value == 'byQuantity'">
              <i class="ri-inbox-2-fill"></i>
              <p>No Data Available</p>
            </div>
          </div>
        </ng-template>
        <ng-template swiperSlide>
          <div class="itemWiseSales">
            <div class="category">
              <p>Most Selling category</p>
              <p>Category Name</p>
            </div>
            <hr />
            <select hidden #mostSellingToggle (change)="this.updateAllSlides();">
              <option value="byPrice"></option>
              <option value="byQuantity"></option>
            </select>
            <div class="toggles">
              <button
                class="toggle"
                [ngClass]="{active:mostSellingToggle.value == 'byPrice'}"
                (click)="mostSellingToggle.value = 'byPrice'"
              >
                By Price
              </button>
              <button
                class="toggle"
                [ngClass]="{active:mostSellingToggle.value == 'byQuantity'}"
                (click)="mostSellingToggle.value = 'byQuantity'"
              >
                By Quantity
              </button>
            </div>
            <div
              class="modes"
              *ngIf="analyticsData?.salesChannels?.takeaway?.itemWiseSales?.byPrice?.length && mostSellingToggle.value == 'byPrice'"
            >
              <input type="checkbox" name="" id="" (change)="updateAllSlides()" #itemWiseSalesTakeawayByPriceSeeMore hidden>
              <ng-container
                *ngFor="let channel of analyticsData?.salesChannels?.takeaway?.itemWiseSales?.byPrice; let i = index;"
              >
                <div class="channel" *ngIf="i<10 || itemWiseSalesTakeawayByPriceSeeMore.checked">
                  <div class="title">
                    <p>{{ channel.name }}</p>
                    <p>{{ channel.price }}</p>
                  </div>
                  <div class="progressBar">
                    <div
                      class="progress"
                      [ngStyle]="{
                        width: ((channel.price / (analyticsData?.salesChannels?.takeaway?.itemWiseSales?.byPriceMax || 0))*100)+'%'
                      }"
                    ></div>
                  </div>
                </div>
                <p class="seeMore" *ngIf="i == 10" (click)="itemWiseSalesTakeawayByPriceSeeMore.click()">
                  {{itemWiseSalesTakeawayByPriceSeeMore.checked ? 'See Less' :  'See More'}}
                </p>
              </ng-container>
            </div>
            <div class="noData" *ngIf="analyticsData?.salesChannels?.takeaway?.itemWiseSales?.byPrice?.length==0 && mostSellingToggle.value == 'byPrice'">
              <i class="ri-inbox-2-fill"></i>
              <p>No Data Available</p>
            </div>
            <div
              class="modes"
              *ngIf="analyticsData?.salesChannels?.takeaway?.itemWiseSales?.byQuantity?.length && mostSellingToggle.value == 'byQuantity'"
            >
              <input type="checkbox" name="" id="" (change)="updateAllSlides()" #itemWiseSalesTakeawayByQuantitySeeMore hidden>
              <ng-container
                *ngFor="let channel of analyticsData?.salesChannels?.takeaway?.itemWiseSales?.byQuantity; let i = index"
              >
                <div class="channel" *ngIf="i<10 || itemWiseSalesTakeawayByQuantitySeeMore.checked">
                  <div class="title">
                    <p>{{ channel.name }}</p>
                    <p>{{ channel.quantity }}</p>
                  </div>
                  <div class="progressBar">
                    <div
                      class="progress"
                      [ngStyle]="{
                        width: ((channel.quantity / (analyticsData?.salesChannels?.takeaway?.itemWiseSales?.byQuantityMax || 0))*100)+'%'
                      }"
                    ></div>
                  </div>
                </div>
                <p class="seeMore" *ngIf="i == 10" (click)="itemWiseSalesTakeawayByQuantitySeeMore.click()">
                  {{itemWiseSalesTakeawayByQuantitySeeMore.checked ? 'See Less' :  'See More'}}
                </p>
              </ng-container>
            </div>
            <div class="noData" *ngIf="analyticsData?.salesChannels?.takeaway?.itemWiseSales?.byPrice?.length==0 && mostSellingToggle.value == 'byQuantity'">
              <i class="ri-inbox-2-fill"></i>
              <p>No Data Available</p>
            </div>
          </div>
        </ng-template>
        <ng-template swiperSlide>
          <div class="itemWiseSales">
            <div class="category">
              <p>Most Selling category</p>
              <p>Category Name</p>
            </div>
            <hr />
            <select hidden #mostSellingToggle (change)="this.updateAllSlides();">
              <option value="byPrice"></option>
              <option value="byQuantity"></option>
            </select>
            <div class="toggles">
              <button
                class="toggle"
                [ngClass]="{active:mostSellingToggle.value == 'byPrice'}"
                (click)="mostSellingToggle.value = 'byPrice'"
              >
                By Price
              </button>
              <button
                class="toggle"
                [ngClass]="{active:mostSellingToggle.value == 'byQuantity'}"
                (click)="mostSellingToggle.value = 'byQuantity'"
              >
                By Quantity
              </button>
            </div>
            <div
              class="modes"
              *ngIf="analyticsData?.salesChannels?.online?.itemWiseSales?.byPrice?.length && mostSellingToggle.value == 'byPrice'"
            >
            <input type="checkbox" name="" id="" (change)="updateAllSlides()" #itemWiseSalesOnlineByQuantitySeeMore hidden>
              <ng-container
                *ngFor="let channel of analyticsData?.salesChannels?.online?.itemWiseSales?.byPrice; let i = index;"
              >
                <div class="channel" *ngIf="i<10 || itemWiseSalesOnlineByQuantitySeeMore.checked">
                  <div class="title">
                    <p>{{ channel.name }}</p>
                    <p>{{ channel.price }}</p>
                  </div>
                  <div class="progressBar">
                    <div
                      class="progress"
                      [ngStyle]="{
                        width: ((channel.price / (analyticsData?.salesChannels?.online?.itemWiseSales?.byPriceMax || 0))*100)+'%'
                      }"
                    ></div>
                  </div>
                </div>
                <p class="seeMore" *ngIf="i == 10" (click)="itemWiseSalesOnlineByQuantitySeeMore.click()">
                  {{itemWiseSalesOnlineByQuantitySeeMore.checked ? 'See Less' :  'See More'}}
                </p>
              </ng-container>
            </div>
            <div class="noData" *ngIf="analyticsData?.salesChannels?.online?.itemWiseSales?.byPrice?.length==0 && mostSellingToggle.value == 'byPrice'">
              <i class="ri-inbox-2-fill"></i>
              <p>No Data Available</p>
            </div>
            <div
              class="modes"
              *ngIf="analyticsData?.salesChannels?.online?.itemWiseSales?.byQuantity?.length && mostSellingToggle.value == 'byQuantity'"
            >
            <input type="checkbox" name="" id="" (change)="updateAllSlides()" #itemWiseSalesOnlineByQuantitySeeMore hidden>
              <ng-container
                *ngFor="let channel of analyticsData?.salesChannels?.online?.itemWiseSales?.byQuantity; let i = index"
              >
                <div class="channel" *ngIf="i<10 || itemWiseSalesOnlineByQuantitySeeMore.checked">
                  <div class="title">
                    <p>{{ channel.name }}</p>
                    <p>{{ channel.quantity }}</p>
                  </div>
                  <div class="progressBar">
                    <div
                      class="progress"
                      [ngStyle]="{
                        width: ((channel.quantity / (analyticsData?.salesChannels?.online?.itemWiseSales?.byQuantityMax || 0))*100)+'%'
                      }"
                    ></div>
                  </div>
                </div>
                <p class="seeMore" *ngIf="i == 10" (click)="itemWiseSalesOnlineByQuantitySeeMore.click()">
                  {{itemWiseSalesOnlineByQuantitySeeMore.checked ? 'See Less' :  'See More'}}
                </p>
              </ng-container>
            </div>
            <div class="noData" *ngIf="analyticsData?.salesChannels?.online?.itemWiseSales?.byPrice?.length==0 && mostSellingToggle.value == 'byQuantity'">
              <i class="ri-inbox-2-fill"></i>
              <p>No Data Available</p>
            </div>
          </div>
        </ng-template>
      </swiper>
    </div>
  </div>
  <div class="summaryCard fadeUp">
    <div class="heading">
      <p>Suspicious Activity</p>
      <select
        (change)="slideNext(suspiciousSelector.value,swiperSuspiciousActivity)"
        #suspiciousSelector
        value="0"
      >
        <option [value]="0">All</option>
        <option [value]="1">Dine In</option>
        <option [value]="2">Takeaway</option>
        <option [value]="3">Online</option>
      </select>
    </div>
    <div class="body">
      <swiper
        #swiperSuspiciousActivity
        [slidesPerView]="1"
        [pagination]="true"
        [spaceBetween]="50"
        [config]="{autoHeight: true}"
        (slideChange)="slideChanged(suspiciousSelector,swiperSuspiciousActivity)"
      >
        <ng-template swiperSlide>
          <div class="suspiciousActivity">
            <input type="checkbox" name="" id="" (change)="updateAllSlides()" #allSuspiciousActivitySeeMore hidden>
            <ng-container
              *ngFor="let item of analyticsData?.salesChannels?.all?.suspiciousActivities; let i = index"
            >
              <div class="activity" (click)="activityDetail.openDetail(item.activity)" *ngIf="i < 10 || allSuspiciousActivitySeeMore.checked">
                <div class="title">
                  <!-- <p>{{item.activity.type}}</p> -->
                  <p *ngIf="item.activity.type == 'billDiscounted'">
                    Bill Discounted
                  </p>
                  <p *ngIf="item.activity.type == 'lineDiscounted'">
                    Item Discount
                  </p>
                  <p *ngIf="item.activity.type == 'lineCancelled'">
                    Item Cancelled
                  </p>
                  <p *ngIf="item.activity.type == 'billCancelled'">
                    Bill Cancelled
                  </p>
                  <p *ngIf="item.activity.type == 'billSplit'">
                    Bill Splitted
                  </p>
                  <p *ngIf="item.activity.type == 'billNC'">Bill NC</p>
                  <span
                    ><i class="ri-time-line"></i>{{item.createdDate.toDate() |
                    date:'shortTime'}}</span
                  >
                  <span><i class="ri-user-line"></i>{{item.activity.user}}</span>
                </div>
                <p>{{item.activity.message}}</p>
              </div>
              <p class="seeMore" *ngIf="i == 10" (click)="allSuspiciousActivitySeeMore.click()">
                {{allSuspiciousActivitySeeMore.checked ? 'See Less' :  'See More'}}
              </p>
            </ng-container>
            <div class="noData" *ngIf="!(analyticsData?.salesChannels?.all?.suspiciousActivities)?.length">
              <i class="ri-inbox-2-fill"></i>
              <p>No Data Available</p>
            </div>
          </div>
        </ng-template>
        <ng-template swiperSlide>
          <div class="suspiciousActivity">
            <input type="checkbox" name="" id="" (change)="updateAllSlides()" #dineInSuspiciousActivitySeeMore hidden>
            <ng-container
              *ngFor="let item of analyticsData?.salesChannels?.dineIn?.suspiciousActivities; let i = index"
            >
              <div class="activity" *ngIf="i < 10 || dineInSuspiciousActivitySeeMore.checked">
                <div class="title">
                  <!-- <p>{{item.activity.type}}</p> -->
                  <p *ngIf="item.activity.type == 'billDiscounted'">
                    Bill Discounted
                  </p>
                  <p *ngIf="item.activity.type == 'lineDiscounted'">
                    Item Discount
                  </p>
                  <p *ngIf="item.activity.type == 'lineCancelled'">
                    Item Cancelled
                  </p>
                  <p *ngIf="item.activity.type == 'billCancelled'">
                    Bill Cancelled
                  </p>
                  <p *ngIf="item.activity.type == 'billSplit'">
                    Bill Splitted
                  </p>
                  <p *ngIf="item.activity.type == 'billNC'">Bill NC</p>
                  <span
                    ><i class="ri-time-line"></i>{{item.createdDate.toDate() |
                    date:'shortTime'}}</span
                  >
                  <span><i class="ri-user-line"></i>{{item.activity.user}}</span>
                </div>
                <p>{{item.activity.message}}</p>
              </div>
              <p class="seeMore" *ngIf="i == 10" (click)="dineInSuspiciousActivitySeeMore.click()">
                {{dineInSuspiciousActivitySeeMore.checked ? 'See Less' :  'See More'}}
              </p>
            </ng-container>
            <div class="noData" *ngIf="!(analyticsData?.salesChannels?.dineIn?.suspiciousActivities)?.length">
              <i class="ri-inbox-2-fill"></i>
              <p>No Data Available</p>
            </div>
          </div>
        </ng-template>
        <ng-template swiperSlide>
          <div class="suspiciousActivity">
            <input type="checkbox" name="" id="" (change)="updateAllSlides()" #takeawaySuspiciousActivitySeeMore hidden>
            <ng-container
              *ngFor="let item of analyticsData?.salesChannels?.takeaway?.suspiciousActivities; let i = index"
            >
              <div class="activity" *ngIf="i < 10 || takeawaySuspiciousActivitySeeMore.checked">
                <div class="title">
                  <!-- <p>{{item.activity.type}}</p> -->
                  <p *ngIf="item.activity.type == 'billDiscounted'">
                    Bill Discounted
                  </p>
                  <p *ngIf="item.activity.type == 'lineDiscounted'">
                    Item Discount
                  </p>
                  <p *ngIf="item.activity.type == 'lineCancelled'">
                    Item Cancelled
                  </p>
                  <p *ngIf="item.activity.type == 'billCancelled'">
                    Bill Cancelled
                  </p>
                  <p *ngIf="item.activity.type == 'billSplit'">
                    Bill Splitted
                  </p>
                  <p *ngIf="item.activity.type == 'billNC'">Bill NC</p>
                  <span
                    ><i class="ri-time-line"></i>{{item.createdDate.toDate() |
                    date:'shortTime'}}</span
                  >
                  <span><i class="ri-user-line"></i>{{item.activity.user}}</span>
                </div>
                <p>{{item.activity.message}}</p>
              </div>
              <p class="seeMore" *ngIf="i == 10" (click)="takeawaySuspiciousActivitySeeMore.click()">
                {{takeawaySuspiciousActivitySeeMore.checked ? 'See Less' :  'See More'}}
              </p>
            </ng-container>
            <div class="noData" *ngIf="!(analyticsData?.salesChannels?.takeaway?.suspiciousActivities)?.length">
              <i class="ri-inbox-2-fill"></i>
              <p>No Data Available</p>
            </div>
          </div>
        </ng-template>
        <ng-template swiperSlide>
          <div class="suspiciousActivity">
            <input type="checkbox" name="" id="" (change)="updateAllSlides()" #onlineSuspiciousActivitySeeMore hidden>
            <ng-container
              *ngFor="let item of analyticsData?.salesChannels?.online?.suspiciousActivities; let i = index"
            >
              <div class="activity" *ngIf="i < 10 || onlineSuspiciousActivitySeeMore.checked">
                <div class="title">
                  <!-- <p>{{item.activity.type}}</p> -->
                  <p *ngIf="item.activity.type == 'billDiscounted'">
                    Bill Discounted
                  </p>
                  <p *ngIf="item.activity.type == 'lineDiscounted'">
                    Item Discount
                  </p>
                  <p *ngIf="item.activity.type == 'lineCancelled'">
                    Item Cancelled
                  </p>
                  <p *ngIf="item.activity.type == 'billCancelled'">
                    Bill Cancelled
                  </p>
                  <p *ngIf="item.activity.type == 'billSplit'">
                    Bill Splitted
                  </p>
                  <p *ngIf="item.activity.type == 'billNC'">Bill NC</p>
                  <span
                    ><i class="ri-time-line"></i>{{item.createdDate.toDate() |
                    date:'shortTime'}}</span
                  >
                  <span><i class="ri-user-line"></i>{{item.activity.user}}</span>
                </div>
                <p>{{item.activity.message}}</p>
              </div>
              <p class="seeMore" *ngIf="i == 10" (click)="onlineSuspiciousActivitySeeMore.click()">
                {{onlineSuspiciousActivitySeeMore.checked ? 'See Less' :  'See More'}}
              </p>
            </ng-container>
            <div class="noData" *ngIf="!(analyticsData?.salesChannels?.online?.suspiciousActivities)?.length">
              <i class="ri-inbox-2-fill"></i>
              <p>No Data Available</p>
            </div>
          </div>
        </ng-template>
      </swiper>
    </div>
  </div>
  <div class="summaryCard fadeUp" #userWiseActionSection>
    <ng-container *ngIf="analyticsData?.salesChannels?.all?.userWiseActions?.length">
      <div class="heading">
        <p>User Wise Actions</p>
        <select
          (change)="slideNext(actionSelector.value,userWiseActionSwiper)"
          #actionSelector
          [value]="0"
        >
          <option
            [value]="i"
            *ngFor="let user of analyticsData?.salesChannels?.all?.userWiseActions;let i = index"
          >
            {{user.userId}}
          </option>
        </select>
      </div>
      <div class="userWiseActions">
        <swiper
          #userWiseActionSwiper
          [slidesPerView]="1"
          [pagination]="true"
          [spaceBetween]="20"
          [config]="{autoHeight: true}"
          (slideChange)="slideChanged(actionSelector,userWiseActionSwiper)"
        >
          <ng-container
            *ngFor="let user of analyticsData?.salesChannels?.all?.userWiseActions"
          >
            <ng-template swiperSlide>
              <div class="userActions gm">
                <div class="user">
                  <img
                    src="https://api.dicebear.com/6.x/initials/svg?seed={{user.userId}}"
                    alt=""
                  />
                  <p class="name">{{user.userId}}</p>
                  <select
                    #activityMode
                    (change)="updateSlides(userWiseActionSwiper)"
                  >
                    <option value="kots">KOTs</option>
                    <option value="bills">Bills</option>
                    <option value="discounts">Discounts</option>
                    <option value="settlements">Settlements</option>
                    <option value="ncs">NCs</option>
                  </select>
                </div>
                <div class="suspiciousActivity">
                  <ng-container *ngIf="activityMode.value=='kots'">
                    <input type="checkbox" (change)="updateAllSlides()" name="" id="" #allUserWiseActionsKotsSeeMore hidden>
                    <ng-container *ngFor="let item of user.actions?.kots;let i = index;">
                      <div class="activity" *ngIf="i < 5 || allUserWiseActionsKotsSeeMore.checked">
                        <div class="title">
                          <!-- 'newKot','kotPrinted','kotEdited','kotCancelled','lineCancelled' -->
                          <p *ngIf="item.activity.type == 'newKot'">New Kot</p>
                          <p *ngIf="item.activity.type == 'kotPrinted'">
                            Kot Printed
                          </p>
                          <p *ngIf="item.activity.type == 'kotEdited'">Kot Edited</p>
                          <p *ngIf="item.activity.type == 'kotCancelled'">
                            Kot Cancelled
                          </p>
                          <p *ngIf="item.activity.type == 'lineCancelled'">
                            Line Cancelled
                          </p>
                          <span
                            ><i class="ri-time-line"></i>{{item.createdDate.toDate() |
                            date:'shortTime'}}</span
                          >
                          <span
                            ><i class="ri-user-line"></i>{{item.activity.user}}</span
                          >
                        </div>
                        <p>{{item.activity.message}}</p>
                      </div>
                      <p class="seeMore" *ngIf="i == 5" (click)="allUserWiseActionsKotsSeeMore.click()">
                        {{allUserWiseActionsKotsSeeMore.checked ? 'See Less' :  'See More'}}
                      </p>
                    </ng-container>
                    <div class="noData" *ngIf="!(user.actions?.kots)?.length">
                      <i class="ri-inbox-2-fill"></i>
                      <p>No Data Available</p>
                    </div>
                  </ng-container>
                  <ng-container *ngIf="activityMode.value=='bills'">
                    <input type="checkbox" (change)="updateAllSlides()" name="" id="" #allUserWiseActionsBillsSeeMore hidden>
                    <ng-container *ngFor="let item of user.actions?.bills;let i = index;">
                      <div class="activity" *ngIf="i < 5 || allUserWiseActionsBillsSeeMore.checked">
                        <div class="title">
                          <!-- 'newKot','kotPrinted','kotEdited','kotCancelled','lineCancelled' -->
                          <p *ngIf="item.activity.type == 'billPrinted'">
                            Bill Printed
                          </p>
                          <p *ngIf="item.activity.type == 'billEdited'">
                            Bill Edited
                          </p>
                          <p *ngIf="item.activity.type == 'billCancelled'">
                            Bill Cancelled
                          </p>
                          <p *ngIf="item.activity.type == 'billSplit'">Bill Split</p>
                          <p *ngIf="item.activity.type == 'customerDetailEntered'">
                            Customer Applied
                          </p>
                          <p *ngIf="item.activity.type == 'billNormal'">
                            Bill to normal
                          </p>
                          <p *ngIf="item.activity.type == 'billFinalized'">
                            Bill Finalized
                          </p>
                          <p *ngIf="item.activity.type == 'instructionSet'">
                            Added Bill Note
                          </p>
                          <p *ngIf="item.activity.type == 'billReactivated'">
                            Bill Reactivated
                          </p>
                          <span
                            ><i class="ri-time-line"></i>{{item.createdDate.toDate() |
                            date:'shortTime'}}</span
                          >
                          <span
                            ><i class="ri-user-line"></i>{{item.activity.user}}</span
                          >
                        </div>
                        <p>{{item.activity.message}}</p>
                      </div>
                        <p class="seeMore" *ngIf="i == 5" (click)="allUserWiseActionsBillsSeeMore.click()">
                          {{allUserWiseActionsBillsSeeMore.checked ? 'See Less' :  'See More'}}
                        </p>
                      <div class="noData" *ngIf="!(user.actions?.bills)?.length">
                        <i class="ri-inbox-2-fill"></i>
                        <p>No Data Available</p>
                      </div>
                    </ng-container>
                    <div class="noData" *ngIf="!(user.actions?.bills)?.length">
                      <i class="ri-inbox-2-fill"></i>
                      <p>No Data Available</p>
                    </div>
                  </ng-container>
                  <ng-container *ngIf="activityMode.value=='discounts'">
                    <input type="checkbox" (change)="updateAllSlides()" name="" id="" #allUserWiseActionsDiscountsSeeMore hidden>
                    <ng-container *ngFor="let item of user.actions?.discounts; let i = index">
                      <div *ngIf="i < 5 || allUserWiseActionsDiscountsSeeMore.checked"
                        class="activity"
                      >
                        <div class="title">
                          <!-- 'newKot','kotPrinted','kotEdited','kotCancelled','lineCancelled' -->
                          <p *ngIf="item.activity.type == 'billDiscounted'">
                            Bill Discounted
                          </p>
                          <p *ngIf="item.activity.type == 'lineDiscounted'">
                            Item Discount
                          </p>
                          <span
                            ><i class="ri-time-line"></i>{{item.createdDate.toDate() |
                            date:'shortTime'}}</span
                          >
                          <span
                            ><i class="ri-user-line"></i>{{item.activity.user}}</span
                          >
                        </div>
                        <p>{{item.activity.message}}</p>
                      </div>
                      <p class="seeMore" *ngIf="i == 5" (click)="allUserWiseActionsDiscountsSeeMore.click()">
                        {{allUserWiseActionsDiscountsSeeMore.checked ? 'See Less' :  'See More'}}
                      </p>
                    </ng-container>
                    <div class="noData" *ngIf="!(user.actions?.discounts)?.length">
                      <i class="ri-inbox-2-fill"></i>
                      <p>No Data Available</p>
                    </div>
                  </ng-container>
                  <ng-container *ngIf="activityMode.value=='settlements'">
                    <input type="checkbox" (change)="updateAllSlides()" name="" id="" #allUserWiseActionsSettlementsSeeMore hidden>
                    <ng-container *ngFor="let item of user.actions?.settlements; let i = index">
                      <div
                        class="activity"
                        *ngIf="i < 5 || allUserWiseActionsSettlementsSeeMore.checked"
                      >
                        <div class="title">
                          <p *ngIf="item.activity.type == 'billSettled'">
                            Bill Settled
                          </p>
                          <span
                            ><i class="ri-time-line"></i>{{item.createdDate.toDate() |
                            date:'shortTime'}}</span
                          >
                          <span
                            ><i class="ri-user-line"></i>{{item.activity.user}}</span
                          >
                        </div>
                        <p>{{item.activity.message}}</p>
                      </div>
                      <p class="seeMore" *ngIf="i == 5" (click)="allUserWiseActionsSettlementsSeeMore.click()">
                        {{allUserWiseActionsSettlementsSeeMore.checked ? 'See Less' :  'See More'}}
                      </p>
                    </ng-container>
                    <div class="noData" *ngIf="!(user.actions?.settlements)?.length">
                      <i class="ri-inbox-2-fill"></i>
                      <p>No Data Available</p>
                    </div>
                  </ng-container>
                  <ng-container *ngIf="activityMode.value=='ncs'">
                    <input type="checkbox" (change)="updateAllSlides()" name="" id="" #allUserWiseActionsNcsSeeMore hidden>
                    <ng-container *ngFor="let item of user.actions?.ncs; let i = index">
                      <div class="activity" *ngIf="i < 5 || allUserWiseActionsNcsSeeMore.checked">
                        <div class="title">
                          <p *ngIf="item.activity.type == 'billNC'">Bill To NC</p>
                          <span
                            ><i class="ri-time-line"></i>{{item.createdDate.toDate() |
                            date:'shortTime'}}</span
                          >
                          <span
                            ><i class="ri-user-line"></i>{{item.activity.user}}</span
                          >
                        </div>
                        <p>{{item.activity.message}}</p>
                      </div>
                      <p class="seeMore" *ngIf="i == 5" (click)="allUserWiseActionsNcsSeeMore.click()">
                        {{allUserWiseActionsNcsSeeMore.checked ? 'See Less' :  'See More'}}
                      </p>
                    </ng-container>
                    <div class="noData" *ngIf="!(user.actions?.ncs)?.length">
                      <i class="ri-inbox-2-fill"></i>
                      <p>No Data Available</p>
                    </div>
                  </ng-container>
                </div>
              </div>
            </ng-template>
          </ng-container>
        </swiper>
      </div>
    </ng-container>
    <ng-container *ngIf="!analyticsData?.salesChannels?.all?.userWiseActions?.length">
      <div class="heading">
        <p>User Wise Actions</p>
      </div>
      <div class="userWiseActions">
        <div class="noData" *ngIf="!(analyticsData?.salesChannels?.all?.userWiseActions)?.length">
          <i class="ri-inbox-2-fill"></i>
          <p>No Data Available</p>
        </div>
      </div>
    </ng-container>
  </div>
  <div class="bottomSpacer"></div>
</ng-container>
